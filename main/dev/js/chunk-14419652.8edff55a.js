(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14419652"],{"52df":function(t,s,e){"use strict";s["a"]={list:"/reservation/list",info:"/reservation/info",makeReservation:"/reservation/make-reservation",checkList:"/reservation/check-list",check:"/reservation/check",push:"/reservation/push",data:"/reservation/data"}},"791d":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"reservation"},[s("div",{staticClass:"reservation-content"},[t._m(0),s("div",{staticClass:"container"},[t._m(1),s("div",{staticClass:"time"},[t._v("领取时间: 2024.07.12-2024.07.14（9:00-12:00、13:00-16:30）")]),s("div",{staticClass:"location"},[t._v("领取地点: 上海市 | 上海国家会展中心1.1H馆1A13展区 毛怪福利站")]),s("div",{staticClass:"divider"}),t._m(2),s("div",{staticClass:"date"},[s("div",{staticClass:"date-title"},[t._v("选择预约场次")]),s("div",{staticClass:"date-selection"},t._l(t.dateList,(function(e){return s("div",{key:e.id,staticClass:"date-selection--item",class:{"selection-disabled":!e.count,dated:t.myInfo.reservation===e.id&&1===t.myInfo.status,"selection-selected":t.reservation===e.id,checking:t.myInfo.reservation===e.id&&0===t.myInfo.status},on:{click:function(s){return t.selectReservation(e)}}},[s("span",[t._v(t._s(e.date))]),s("span",[t._v(t._s(t.weekMap[e.id]))]),s("span",[t._v("9:00-12:00、13:00-16:30")]),s("span",{domProps:{innerHTML:t._s(t.dateStatus(e))}})])})),0)]),s("div",{staticClass:"img-shot"},[s("div",{staticClass:"img-shot--title"},[t._v("上传门票截图")]),s("div",{staticClass:"img-shot--sub"},[s("input",{attrs:{id:"img-select",type:"file",accept:"image/*"},on:{change:t.onImageSelected}}),t.uploadFile?s("label",{staticClass:"upload-file",attrs:{for:"img-select"}},[s("img",{attrs:{src:t.uploadFile,width:"100%",height:"100%"}})]):s("label",{staticClass:"upload-btn",attrs:{for:"img-select"}},[t._v(" +"),s("br"),s("span",{staticClass:"upload-btn-describe"},[t._v("上传本地图片")])])]),s("div",{staticClass:"img-shot--space"}),s("div",{staticClass:"img-shot--sub"},[t.uploadLink?s("div",{staticClass:"upload-file",on:{click:t.inputUploadLink}},[s("img",{attrs:{referrerpolicy:"no-referrer",src:t.uploadLink,width:"100%",height:"100%"}})]):s("div",{staticClass:"upload-btn",on:{click:t.inputUploadLink}},[t._v(" +"),s("br"),s("span",{staticClass:"upload-btn-describe"},[t._v("本地图片上传异常或缓慢时，可将图片分享至第三方平台，复制图片链接至此处，解析站外图片")])])])]),t._m(3),s("div",{staticClass:"read"},[s("div",{staticClass:"read-title"}),s("div",{staticClass:"read-check"},[s("el-checkbox",{model:{value:t.read,callback:function(s){t.read=s},expression:"read"}},[t._v("我已阅读并知晓以上用户预约须知")])],1)]),s("div",{staticClass:"operation"},[s("div",{staticClass:"operation-title"}),s("div",{staticClass:"operation-btns"},[t.notStarted?s("div",{staticClass:"countdown-btn"},[s("el-statistic",{attrs:{"value-style":t.valueStyle,value:t.timeDiff,format:"DD天 HH时 mm分 ss秒","time-indices":""},on:{finish:t.getSystemTime}},[s("template",{slot:"suffix"},[t._v(" 后开始预约 ")])],2)],1):t.reservationing?[s("div",{staticClass:"operation-btn",class:{"operation-btn-disabled":!t.read},on:{click:t.makeReservation}},[t._v(" 确认并提交预约申请 ")]),t.showEndCountdown?s("div",{staticClass:"end-tip"},[s("el-statistic",{attrs:{"value-style":t.endTipStyle,value:t.restTime,format:"HH时 mm分 ss秒","time-indices":""}},[s("template",{slot:"suffix"},[t._v(" 后结束 ")])],2)],1):t._e()]:t._e()],2)])])]),s("div",{staticClass:"tabs"},[s("div",{staticClass:"tabs-header"},[s("div",{staticClass:"tab",class:{"tab-selected":1===t.tab},on:{click:function(s){return t.changeTab(1)}}},[t._v("领取说明")]),s("div",{staticClass:"tab",class:{"tab-selected":2===t.tab},on:{click:function(s){return t.changeTab(2)}}},[t._v("活动介绍")])]),s("div",{staticClass:"tab-content--wrapper"},[s("div",{staticClass:"tab-content"},[1===t.tab?s("span",[s("p",[t._v("1.请于福利站营业时间前往领取。")]),s("p",[t._v("2.请提前打开个人B站主页并告知staff取餐码。")]),s("p",[t._v("3.请勿插队或重复排队，一经发现取消领取资格。")]),s("p",[t._v("4.预约制领取，人多可以去其他地方看看美女再回来。")]),s("p",[t._v("5.送给hanser的信件类礼物可以交给现场staff~")]),s("p",[t._v("6.玩得开心(´▽`ʃ♥ƪ)")])]):t._e(),2===t.tab?s("span",[s("img",{attrs:{width:"100%",src:"https://cdn.2550505.com/share/202406/10008/10008.1719722299918.3PBGSBCVH83OFIUBK5EN.png"}}),s("p",[t._v("本次BW2024，hanser将以VirtuaReal嘉宾的身份参展。")]),s("img",{attrs:{width:"100%",src:"https://cdn.2550505.com/share/202406/10008/10008.1719722458557.5D7UG3C11FROIRUB4KC2.jpg"}}),s("p",[t._v("7月12日，hanser携手七海Nana7mi一同与现场观众进行3D虚拟互动，欢迎大家积极参与，赢取精美周边。")]),s("p",[t._v("7月12日至7月14日每日上午9:00-12:00、下午13:00-16:30，毛怪们可以在VirtuaReal展区的“毛怪福利站”摊位领取限定周边（12级粉丝牌、需本页面预约）、参与音频试听活动。")]),s("p",[t._v("活动展位、摊位地址")]),s("img",{attrs:{width:"100%",src:"https://cdn.2550505.com/share/202406/10008/10008.1719722475815.BK6JS3KJSI5OP8S3OG26.jpg"}}),t._m(4),s("p"),s("img",{attrs:{width:"100%",src:"https://cdn.2550505.com/share/202406/10008/10008.1719722754322.3HEOV5KD12D8IIH32U2K.jpg"}}),t._m(5),s("img",{attrs:{width:"100%",src:"https://cdn.2550505.com/share/202406/10008/10008.1719724847097.3DVKUDKG71B2GFHDFDRV.jpg"}})]):t._e()])])])])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"post"},[s("img",{attrs:{width:"100%",src:"https://i2.hdslb.com/bfs/openplatform/202406/k0Telb2o1717492841341.jpeg@600w_800h.jpeg",referrerpolicy:"no-referrer"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("div",{staticClass:"label"},[t._v("活动")]),s("div",{staticClass:"title"},[t._v("BiliBiliWorld 2024 hanser周边线下领取预约")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"condition"},[s("div",{staticClass:"condition-label"},[t._v("预约条件")]),s("div",{staticClass:"condition-text"},[t._v("本次周边领取资格为“憨毛怪”粉丝勋章12级及以上，每人限1份，禁止代领或多账号重复领取。符合条件的用户仅可选择1个日期预约，预约需上传当天BW门票截图。")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tip"},[s("div",{staticClass:"tip-title"},[t._v("用户预约须知")]),s("div",{staticClass:"tip-text"},[s("p",[t._v("1.预约申请一旦提交后，将无法撤回或变更预约日期，请谨慎操作！")]),s("p",[t._v("2.预约成功的用户未在约定时间内完成周边领取，其领取资格将自动作废。")]),s("p",[t._v("3.存在严重违反直播间和社区规范行为的用户，站方有权驳回其预约申请。")]),s("p",[t._v("4.代他人领取、请他人代为领取、使用本人多个账号重复预约并领取周边的用户，现场工作人员有权不予发放，且后续周边预约及相关功能将限制使用！")]),s("p",[t._v("5.本次预约活动采用人工复审，提交预约申请顺序并不代表人工审核先后顺序，最终预约结果将通过系统消息或官方号站内信告知与您。")])])])},function(){var t=this,s=t._self._c;return s("p",[t._v("①3D大屏互动环节：hanser特别节目一一合拍的正确打开方式"),s("br"),t._v("2024年7月12日 12:00 1.1H馆1A13 VirtuaReal互动舞台")])},function(){var t=this,s=t._self._c;return s("p",[t._v("②周边领取、音频试听"),s("br"),t._v("2024年7月12日 9:00 至 2024年7月14日 16:30 1.1H馆1A13 毛怪福利站")])}],n=e("2f62"),r=e("db04"),o=e("365c"),c=e("52df"),d=e("3786"),l=e("0e5c"),m={name:"reservation",data(){return{myInfo:{reservation:0},tab:1,showEndCountdownDiff:1728e5,reservation:"",startTime:"",endTime:"",systemTime:"",read:!1,uploadFile:"",uploadLink:"",weekMap:{1:"周五",2:"周六",3:"周日"},dateMap:{1:"2024-07-12",2:"2024-07-13",3:"2024-07-14"},dateList:[]}},computed:{...Object(n["d"])({user:t=>t.users.userInfo}),valueStyle(){return{fontWeight:"bold",color:"#e08743",fontSize:"24px"}},endTipStyle(){return{fontWeight:"200",color:"#7f7f99",fontSize:"12px"}},restTime(){return Date.now()+(new Date(this.endTime)-new Date(this.systemTime))},notStarted(){return new Date(this.systemTime)<new Date(this.startTime)},reservationing(){return new Date(this.startTime)<=new Date(this.systemTime)&&new Date(this.systemTime)<=new Date(this.endTime)},showEndCountdown(){return new Date(this.endTime)-new Date(this.systemTime)<this.showEndCountdownDiff},timeDiff(){const t=new Date(this.startTime),s=new Date(this.endTime),e=new Date(this.systemTime);return t&&s&&e?e<t?Date.now()+(t-e):e<s?0:e-s:0}},methods:{changeTab(t){this.tab=t},dateStatus(t){return t.id===this.myInfo.reservation&&1===this.myInfo.status?'<span class="date-status dated-success">预约成功</span>':t.id===this.myInfo.reservation?'<span class="date-status date-checking">审核中</span>':t.count?'<span class="date-status">可预约</span>':'<span class="date-status dated-full">已约满</span>'},getDateList(){r["a"].get(c["a"].list).then(t=>{0===t.code&&(this.dateList=t.list)})},getMyInfo(){r["a"].get(c["a"].info).then(t=>{0===t.code?(this.startTime=t.startTime,this.endTime=t.endTime,this.myInfo=t.info):(this.startTime=t.startTime,this.endTime=t.endTime)})},getSystemTime(){r["a"].get(o["a"].appTime).then(t=>{0===t.code&&(this.systemTime=t.time)})},makeReservation(){this.reservation?this.uploadFile||this.uploadLink?this.read?this.$confirm(`此操作将预约于${this.dateMap[this.reservation]}领取周边，预约后将不能修改日期，是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r["a"].post(c["a"].makeReservation,{reservation:this.reservation,img:this.uploadFile||this.uploadLink}).then(t=>{0===t.code?(this.$message({type:"success",message:t.msg}),this.myInfo=t.info):this.$message({type:"warning",message:t.msg})})}).catch(()=>{this.$message({type:"info",message:"已取消预约"})}):this.$message({type:"warning",message:"请阅读并勾选用户预约须知"}):this.$message({type:"warning",message:"请上传门票截图"}):this.$message({type:"warning",message:"请选择预约日期"})},selectReservation(t){this.myInfo.reservation?this.$message({type:"warning",message:"已有预约，请勿重复预约"}):t.count?this.reservation=t.id:this.$message({type:"warning",message:"当前日期已被约满，请选择其他日期预约！"})},async onImageSelected(t){const s=await r["a"].get(d["a"].upload);if(0!==s.code)return;const{auth:e,token:i}=s,a=await l["a"].uploadSingleFile(t.target.files[0],i,this.user.uid,e,(t,s)=>{this.$showProcess({title:"图片上传中...",value:t,max:s})},!1);0===a.code&&(this.uploadFile=a.thumbnail)},inputUploadLink(){this.$prompt("请输入图片链接","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:t})=>{this.uploadLink=t}).catch(()=>{this.$message({type:"info",message:"取消输入"})})}},mounted(){this.getDateList(),this.getMyInfo(),this.getSystemTime()}},h=m,v=(e("d20c"),e("2877")),p=Object(v["a"])(h,i,a,!1,null,"2b7f826f",null);s["default"]=p.exports},c175:function(t,s,e){},d20c:function(t,s,e){"use strict";e("c175")}}]);