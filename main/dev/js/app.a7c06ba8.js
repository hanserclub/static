(function(e){function t(t){for(var s,n,r=t[0],l=t[1],c=t[2],d=0,u=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var r=a[n];0!==i[r]&&(s=!1)}s&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},n={app:0},i={app:0},o=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-025955c0":"3fa4563e","chunk-0901f3c0":"f6bd7277","chunk-0a32f6ad":"0dd3c6cf","chunk-1225164e":"2b6fd37c","chunk-1287a6b4":"81bfba7b","chunk-12c53e30":"54889fea","chunk-20f2ee84":"d20eb3ab","chunk-24ef0e8e":"bc04e059","chunk-2d0a50f6":"bcd83b8f","chunk-2d21d0c2":"3f86d8ae","chunk-bc1dd78e":"ffd08953","chunk-cb82a2fa":"75d0845b","chunk-34a7858e":"24d0982c","chunk-3d6557f8":"08af2da2","chunk-d81b2996":"47cb9442","chunk-20975e04":"739af942","chunk-72d3bd82":"89c99d4f","chunk-2dec493c":"c06cd868","chunk-56e36d18":"fe73c3ec","chunk-9d3ea1f6":"20b06ead","chunk-f8847926":"15257c7a","chunk-6aaa4858":"6d94a9db","chunk-267e0e61":"b2db452a","chunk-777ad7ea":"0d09f931","chunk-78a0d676":"31651e21","chunk-3033eea4":"68c1c83e","chunk-3b8860d5":"0cf0fd29","chunk-3c9badae":"526a4749","chunk-498adf20":"6b9b40de","chunk-61573d4c":"49bdaca6","chunk-6c510ad6":"d0719b2e","chunk-7c778b60":"631cd22e","chunk-f52ea0aa":"60fd1ae4"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-025955c0":1,"chunk-0901f3c0":1,"chunk-0a32f6ad":1,"chunk-1225164e":1,"chunk-1287a6b4":1,"chunk-12c53e30":1,"chunk-20f2ee84":1,"chunk-24ef0e8e":1,"chunk-bc1dd78e":1,"chunk-cb82a2fa":1,"chunk-34a7858e":1,"chunk-3d6557f8":1,"chunk-d81b2996":1,"chunk-20975e04":1,"chunk-72d3bd82":1,"chunk-2dec493c":1,"chunk-56e36d18":1,"chunk-9d3ea1f6":1,"chunk-f8847926":1,"chunk-6aaa4858":1,"chunk-267e0e61":1,"chunk-777ad7ea":1,"chunk-78a0d676":1,"chunk-3033eea4":1,"chunk-3b8860d5":1,"chunk-3c9badae":1,"chunk-498adf20":1,"chunk-61573d4c":1,"chunk-6c510ad6":1,"chunk-7c778b60":1,"chunk-f52ea0aa":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var s="css/"+({}[e]||e)+"."+{"chunk-025955c0":"eeda1a1c","chunk-0901f3c0":"d0398748","chunk-0a32f6ad":"0124998b","chunk-1225164e":"f0ad8376","chunk-1287a6b4":"02894a8f","chunk-12c53e30":"08997073","chunk-20f2ee84":"14057274","chunk-24ef0e8e":"0c702e54","chunk-2d0a50f6":"31d6cfe0","chunk-2d21d0c2":"31d6cfe0","chunk-bc1dd78e":"02ff8947","chunk-cb82a2fa":"7062968d","chunk-34a7858e":"8b0c149f","chunk-3d6557f8":"ae9064bc","chunk-d81b2996":"f9304767","chunk-20975e04":"2bd03359","chunk-72d3bd82":"a1b61cc6","chunk-2dec493c":"ef7ec89d","chunk-56e36d18":"9d051839","chunk-9d3ea1f6":"814f15ee","chunk-f8847926":"441bca90","chunk-6aaa4858":"3de58805","chunk-267e0e61":"33b8d25c","chunk-777ad7ea":"5d0d744a","chunk-78a0d676":"31198338","chunk-3033eea4":"12e406f3","chunk-3b8860d5":"b39dc47b","chunk-3c9badae":"66c7e593","chunk-498adf20":"745778aa","chunk-61573d4c":"6d4aecce","chunk-6c510ad6":"af084e68","chunk-7c778b60":"75044b44","chunk-f52ea0aa":"0dd79363"}[e]+".css",i=l.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===s||d===i))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){c=u[r],d=c.getAttribute("data-href");if(d===s||d===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var s=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete n[e],p.parentNode.removeChild(p),a(o)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,a){s=i[e]=[t,a]}));t.push(s[2]=o);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=r(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(p);var a=i[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",u.name="ChunkLoadError",u.type=s,u.request=n,a[1](u)}i[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="https://static.2550505.com/static/main/dev/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00b6":function(e,t,a){"use strict";t["a"]={vote:"/vote",create:"/vote/create",info:"/vote/info/",people:"/vote/people"}},"0e5c":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("14d9");const s=Number(window.localStorage.getItem("line")),n=0===s?"https://upload.2550505.com":"https://upload.ihan.club";var i={single:n+"/upload/",chat:n+"/upload/chat"},o=a("db04");const r={uploadSingleFile:async(e,t,a,s,n,r=!1)=>new Promise((l,c)=>{const d=new FormData;d.append("picture",e),n&&n(0,1);let u="";u=r?i.chat:i.single,o["a"].post(u+`?token=${t}&uid=${a}&auth=${s}&chat=${Number(r)}`,d).then(e=>{0===e.code?(n&&n(1,1),l(e)):c(e)})}),uploadMultiFiles:async(e,t,a,s,n,i=!1)=>{let o=0;const l=[],c=(t,a)=>{n(t,a,`图片上传中(${o}/${e.length})`)};for(const d of e){const e=await r.uploadSingleFile(d,t,a,s,c,i);l.push(e),o++}return l},getExtname:e=>{if(!e||"string"!=typeof e)return"";const[t]=e.split(".").slice(-1);return t}}},1:function(e,t){},"138f":function(e,t,a){},"169c":function(e,t,a){"use strict";a("4870")},"18ce":function(e,t,a){"use strict";a("69c0")},2287:function(e,t,a){"use strict";var s=a("3b81");t["a"]={guessingExchange:s.root+"/exchange",info:s.root+"/user",running:s.root+"/race/running"}},"22c7":function(e,t,a){"use strict";a("a9bd")},"241a":function(e,t,a){"use strict";a("a16e")},"24f3":function(e,t,a){},2936:function(e,t,a){},"2a99":function(e,t,a){"use strict";a("a3dc")},"2ae9":function(e,t,a){},"2b1a":function(e,t,a){"use strict";a("d7dd")},"2d73":function(e,t,a){},"2dfe":function(e,t,a){"use strict";a("2ae9")},3618:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hanser-editor"},[t("toolbar",{staticClass:"toolbar",attrs:{editor:e.editor,defaultConfig:e.usingToolbarConfig,mode:e.mode}}),t("editor",{staticClass:"editor",style:e.defineStyle,attrs:{defaultConfig:e.editorConfig,mode:e.mode},on:{onCreated:e.onCreated,customPaste:e.customPaste},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}}),e.isShowModal?t("mention-modal",{attrs:{searchUserList:e.searchUserList},on:{hideMentionModal:e.hideMentionModal,insertMention:e.insertMention,"mention-update":e.mentionUpdate}}):e._e(),e.cammandModalVisible?t("cammand-modal",{attrs:{cammandList:e.cammandList},on:{hideCammandModal:e.hideCammandModal,insertCammand:e.insertCammand}}):e._e(),t("div",{staticClass:"post-attr"},[e._t("addition")],2),t("div",{staticClass:"operations"},[t("h-button",{staticClass:"btn",on:{click:e.post}},[e._v(e._s(e.text))])],1),e.user.uid&&1!==e.user.status?e._e():t("div",{staticClass:"cover"},[e.user.uid?t("span",{staticClass:"tip-text"},[e._v(" 你已被封禁,封禁解除后才可发帖 ")]):t("span",{staticClass:"tip-text"},[t("router-link",{staticClass:"to-login",attrs:{to:"/login"}},[e._v("登录")]),e._v(" 后才可回复 ")],1)])],1)},n=[],i=(a("0643"),a("4e3e"),a("9a9a"),a("4e15")),o=a("cb23"),r=a("c4eb"),l=a.n(r),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mention-modal",style:e.modalStyle},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],ref:"input",staticClass:"mention-input",domProps:{value:e.searchVal},on:{keyup:e.inputKeyupHandler,input:function(t){t.target.composing||(e.searchVal=t.target.value)}}}),t("ul",{staticClass:"mention-list"},e._l(e.searchUserList,(function(a){return t("li",{key:a.uid,on:{click:function(t){return e.insertMentionHandler(a)}}},[t("div",{staticClass:"avatar"},[t("img",{attrs:{src:a.avatar,alt:a.nickname,width:"14",height:"14"}})]),t("span",{staticClass:"nickname"},[e._v(e._s(a.nickname))])])})),0)])},d=[],u=(a("2382"),{name:"MentionModal",props:["searchUserList"],data(){return{top:"",left:"",timer:null,interval:1e3,searchVal:""}},computed:{searchedList(){const e=this.searchVal.trim().toLowerCase();return this.list.filter(t=>{const a=t.name.toLowerCase();return a.indexOf(e)>=0})},modalStyle(){return{top:this.top,left:this.left}}},methods:{clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)},setTimer(){this.timer||(this.timer=setTimeout(()=>{this.clearTimer(),this.$emit("mention-update",this.searchVal)},this.interval))},resetTimer(){this.clearTimer(),this.timer=setTimeout(()=>{this.clearTimer(),this.$emit("mention-update",this.searchVal)},this.interval)},inputKeyupHandler(e){if(this.timer)this.resetTimer();else{if("Escape"===e.key&&this.$emit("hideMentionModal"),"Enter"===e.key){const e=this.searchedList[0];e&&this.insertMentionHandler(e)}this.searchVal&&this.$emit("mention-update",this.searchVal),this.setTimer()}},insertMentionHandler(e){this.$emit("insertMention",e),this.$emit("hideMentionModal")}},mounted(){const e=document.getSelection(),t=null===e||void 0===e?void 0:e.getRangeAt(0);if(null==t)return;const a=document.getElementsByClassName("w-e-scroll")[0],{scrollTop:s}=a,{offsetWidth:n,offsetTop:i,offsetLeft:o}=t.endContainer.parentElement;this.top=i-s+60+"px",this.left=o+n+5+"px",this.$refs.input.focus()}}),p=u,m=(a("e827"),a("2877")),h=Object(m["a"])(p,c,d,!1,null,"34ac88b5",null),f=h.exports,g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cammand-modal",style:e.modalStyle},[t("ul",{staticClass:"cammand-list"},e._l(e.cammandList,(function(a){return t("li",{key:a.id,on:{click:function(t){return e.insertCammandHandler(a)}}},[t("span",{staticClass:"cammand"},[e._v(e._s(a.cammand))])])})),0)])},v=[],b={name:"CammandModal",props:["cammandList"],data(){return{top:"",left:"",searchVal:""}},computed:{modalStyle(){return{top:this.top,left:this.left}}},methods:{inputKeyupHandler(e){if("Escape"===e.key&&this.$emit("hideCammandModal"),"Enter"===e.key){const e=this.cammandList[0];e&&this.insertCammandHandler(e)}this.searchVal&&this.$emit("cammand-update",this.searchVal)},insertCammandHandler(e){this.$emit("insertCammand",e),this.$emit("hideCammandModal")}},mounted(){const e=document.getSelection(),t=null===e||void 0===e?void 0:e.getRangeAt(0);if(null==t)return;const a=document.getElementsByClassName("w-e-scroll")[0],{scrollTop:s}=a,{offsetWidth:n,offsetTop:i,offsetLeft:o}=t.endContainer.parentElement;this.top=i-s+60+"px",this.left=o+n+5+"px"}},y=b,k=(a("18ce"),Object(m["a"])(y,g,v,!1,null,"984d9566",null)),w=k.exports,x=a("dbbe"),C=(a("d9e2"),a("a573"),a("db04")),_=a("3786"),A=a("4360"),L=a("0e5c");const T=20971520,D=20,S=["image/*"],P=async(e,t=!1)=>{if(!A["a"].state.users.userInfo.uid)throw new Error("必须登录后才能上传图片");try{const a=await C["a"].get(_["a"].upload);if(0!==a.code)return;const{auth:s,token:n}=a;if(1===e.length){const a=e[0],i=await L["a"].uploadSingleFile(a,n,A["a"].state.users.userInfo.uid,s,(e,t)=>{window.$vm.$showProcess({title:"图片上传中...",value:e,max:t})},t);if(0===i.code){const{filename:e}=i;return[e]}return[""]}{const a=await L["a"].uploadMultiFiles(e,n,A["a"].state.users.userInfo.uid,s,(e,t,a)=>{window.$vm.$showProcess({title:a,value:e,max:t})},t),i=a.map(e=>e.filename);return i}}catch(a){throw new Error(a.message)}};var I=a("2f62"),E=a("bc3a"),H=a.n(E),O=a("365c"),M=a("ed08"),j=a.n(M),z=a("808e");o["Boot"].registerModule(l.a);const N='<svg viewBox="0 0 1024 1024"><path d="M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path></svg>',B='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>';let $=null;var F={name:"hanser-editor",components:{Editor:i["a"],Toolbar:i["b"],HButton:x["a"],MentionModal:f,CammandModal:w},props:{text:{type:String,default:"发布"},limit:{type:Number,default:5e3},useAt:{type:Boolean,default:!1},value:{type:String,default:""},cammandList:{type:Array,default:()=>[]},height:{type:Number},config:{type:Object,default:()=>null}},data(){return{editor:null,html:"",isShowModal:!1,cammandModalVisible:!1,searchUserList:[],toolbarConfig:{toolbarKeys:["bold","underline","italic","divider","emotions",{key:"group-more-style",title:"更多",iconSvg:N,menuKeys:["through","sup","sub","clearStyle"]},"|","todo","|","insertLink",{key:"group-image",title:"图片",iconSvg:B,menuKeys:["insertImage","uploadImage"]},"videoFrame","videoUpload","|","undo","redo"]},mode:"default"}},watch:{html(){this.$emit("input",this.html)},value(e){this.html=e}},methods:{onCreated(e){this.editor=Object.seal(e);const{hoverbarKeys:t}=this.editor.getConfig();t.text.menuKeys=["insertLink","|","bold","underline","italic","through","sup","sub","clearStyle"],t.image.menuKeys=[],t.video.menuKeys=[],t.pre.menuKeys=[],t.table.menuKeys=[]},hideMentionModal(){this.isShowModal=!1},showCammandModal(){this.cammandModalVisible=!0},hideCammandModal(){this.cammandModalVisible=!1},insertCammand(e){if(this.editor){if(this.editor.restoreSelection(),this.editor.deleteBackward("character"),1===e.id){const{avatar:t,nickname:a}=e.data;this.editor.insertNode({type:"birthday-card",avatar:t,nickname:a,children:[{text:""}]})}else if(2===e.id){const{avatar:t,nickname:a}=e.data;C["a"].get(O["a"].signedDays).then(e=>{if(0===e.code){if(0===e.day)return void this.$message({type:"warning",message:"当前无连续签到天数"});this.editor.insertNode({type:"sign-days-card",avatar:t,nickname:a,days:e.day,children:[{text:""}]})}})}else 3===e.id?(this.editor.insertNode({type:"paragraph",children:[{text:"BUG："}]}),this.editor.insertNode({type:"paragraph",children:[{text:"平台：（APP/PC网页/手机网页，APP需提供版本号）"}]}),this.editor.insertNode({type:"paragraph",children:[{text:"问题描述："}]}),this.editor.insertNode({type:"paragraph",children:[{text:"网络：（地区 + 运营商，非网络问题可不填）"}]}),this.editor.insertNode({type:"paragraph",children:[{text:"其他补充："}]})):4===e.id&&(this.editor.insertNode({type:"paragraph",children:[{text:"反馈内容："}]}),this.editor.insertNode({type:"paragraph",children:[{text:"适用平台：（APP/PC网页/手机网页/全平台）"}]}),this.editor.insertNode({type:"paragraph",children:[{text:"描述："}]}),this.editor.insertNode({type:"paragraph",children:[{text:"其他补充："}]}));this.editor.move(1)}},showMentionModal(){this.useAt?this.isShowModal=!0:this.isShowModal=!1},getColorStyle(e){const t=j.a.getLevelInfo(e,this.levels),a=t.color.split(","),s="font-weight:bold;width:128px;white-space:nowrap;text-overflow: ellipsis;overflow: hidden;font-size:16px;";if("#606266"===a[0])return s+`color: ${z["f"]};`;if(1===a.length)return s+`color: ${a[0]};`;const[n,i]=a;return s+`backgroundImage:linear-gradient(135deg,${n},${i});backgroundClip:text;-webkit-background-clip:text;color:transparent;`},insertMention(e){if(this.editor){const{uid:t,avatar:a,nickname:s,exp:n}=e,i=j.a.getLevelInfo(n,this.levels);this.editor.restoreSelection(),this.editor.deleteBackward("character"),this.editor.insertNode({type:"mention-user",uid:t,avatar:a,nickname:s,exp:n,level:i.level,levelName:i.name,colorStyle:this.getColorStyle(n),children:[{text:""}]}),this.editor.move(1),this.searchUserList=[]}},post(){this.$emit("post",this.html)},async customPaste(e,t,a){const{clipboardData:s}=t;if(s.types&&s.types.length)if(s.types.includes("text/plain")){const t=s.getData("Text");e.insertText(t)}else if(s.types.includes("Files")&&s.files&&s.files.length){const{files:t}=s,a=await P(t);a.forEach(t=>{e.insertNode({type:"image",src:t,children:[{text:""}]})})}return a(!1),t.preventDefault(),!1},mentionUpdate(e){if($&&$.cancel("取消上个请求"),!e)return;$=H.a.CancelToken.source();const t="";H.a.get(t+O["a"].searchUser,{cancelToken:$.token,params:{keyword:e}}).then(e=>{0===e.data.code&&(this.searchUserList=e.data.list.slice(0,50))}).catch(()=>{console.log("取消请求")})},clear(){this.editor.setHtml("<p></p>")}},computed:{...Object(I["d"])({user:e=>e.users.userInfo,levels:e=>e.level.levels}),editorConfig(){const e=this;return{placeholder:"请输入内容...",maxLength:this.limit,EXTEND_CONF:{mentionConfig:{showModal:this.showMentionModal,hideModal:this.hideMentionModal},cammandConfig:{showModal:this.cammandList.length?this.showCammandModal:null,hideModal:this.hideCammandModal}},MENU_CONF:{uploadImage:{fileName:"picture",maxFileSize:T,maxNumberOfFiles:D,allowedFileTypes:S,timeout:6e4,customUpload(){return!1},async customBrowseAndUpload(){const t=document.getElementById("upload-img");t.addEventListener("change",async t=>{const{files:a}=t.target;if(a.length>D)return void e.$message({type:"warning",message:`最多上传${D}张图片`});if([...a].some(e=>e.size>T))return void e.$message({type:"warning",message:"但文件大小不能超过20M"});const s=await P(a);s.forEach(t=>{e.editor&&e.editor.insertNode({type:"image",src:t,children:[{text:""}]})})}),t.click()}}}}},defineStyle(){return this.height?`height: ${this.height}px`:""},usingToolbarConfig(){return this.config||this.toolbarConfig}},beforeDestroy(){this.editor&&this.editor.destroy()}},V=F,U=(a("fbab"),Object(m["a"])(V,s,n,!1,null,"053a86d8",null));t["a"]=U.exports},"365c":function(e,t,a){"use strict";t["a"]={getPostList:"/post/list",getBriefPostList:"/post/list/brief",getHotList:"/post/hot/list",getHotParams:"/admin/hot/params",setHotParams:"/admin/hot/set-params",addHot:"/post/add-hot",hotData:"/post/hot-data",getLevelList:"/level/list",userInfo:"/user/info",like:"/post/like",lock:"/post/lock",unlock:"/post/unlock/",levelInfo:"/level/info",signed:"/sign/signed",signedDays:"/sign/days",sign:"/sign",hansering:"/post/hansering",searchUser:"/user/search",searchTag:"/tag/search",postSearch:"/post/search",follow:"/user/follow",followList:"/user/follow/list",followTotal:"/user/follow/total",fansList:"/user/fans/list",fansTotal:"/user/fans/total",postList:"/post/user/list",userPosttotal:"/post/user/total",detailPost:"/post/detail/",tagList:"/tag/list",replyList:"/reply/list/",replyPost:"/reply/",replyPostByFloor:"/reply/floor/",likeReply:"/reply/floor/like/",replyReply:"/reply/sub/floor/",getUserInfo:"/user/user-info",postFavorite:"/post/favorite/",favoriteList:"/post/favorite/list",avatarChecking:"/user/avatar-checking",avatarApply:"/user/avatar-apply",noticeCount:"/notice/count",tagedList:"/post/taged/list",tagInfo:"/tag/info",deletePost:"/post/delete/",deleteReply:"/reply/delete/",replySetTop:"/reply/set-top",deleteFloor:"/reply/sub/delete/",dataCount:"/user/data/count",nicknameCheck:"/user/nickname-check",nicknameChecking:"/user/nickname-checking",nicknameApply:"/user/nickname-apply",canApplyNickname:"/user/can-apply-nickname",signChecking:"/user/sign-checking",signApply:"/user/sign-apply",infoSave:"/user/info/save",navList:"/post/nav-list",signData:"/sign/data",signCard:"/sign/card",signFill:"/sign/fill",manager:"/user/manager",userScore:"/user/score",bindSelf:"/user/bind-self",friending:"/user/friending",getVideoInfo:"/forward/get-video-info",appVersion:"/version",followingStatus:"/user/following/",userConfig:"/user/config",setUserConfig:"/user/set-config",autoHansering:"/post/auto-hansering",getRoomInfo:"/status/living",editPost:"/post/edit/",contributionRank:"/contribution/rank",nicknameCard:"/user/nickname-card",theme:"/version/theme",appTime:"/app/time",reportPost:"/post/report",bannerInfo:"/app/config",myFollow:"/post/my-follow",myFollowUnread:"/post/my-follow-unread",myLike:"/post/my-like"}},3665:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAqlQTFRFAAAA//////////////////////////////////////////////////////////////////////////////////zz//jk//TX//LP//HK//HL//LO//TW//////////vw/+ej/96D/9ht/9Vi/9tk/95l/99m/99l/96C/+ah//DJ//vv//////////79//LN/+KT/9dq/+Bm/+Nn/9pj/9di/9Zh/9Vh/9lj/+Jn/9dn/uGP//78///////////+/+6//9t5/+Fn/+CM/+6+//TU//TV/+7A/+OW/9Zm/+Fm/+Bl/9t3/+27//PR/9x8/91l/9lw//PU//np/+KR/91k/+No/9t4//HM//////32/+Sa//nq/+ag//////be/9p0/+Ro/9Zi/92B//XZ//HJ/9py//33//DG/91///ru/+/E/+69/+OY/9lx/+y4/////+/C/+mu//DF/9+G/9hj/+26//////PS/+qw/9do/9xk/+Wc/91+//34/9ly/9Zk//jj/9t2//76/+OX/+CL/+mt/9x9///9/+qx/+28/+Vo/+iq//////no/9Zj/9Zl/+SZ/9hi//fi/////////+SY//z0//bd/9+H/+KQ//fh//Xa/+We//DH/+OV/9dp//77/9p1//rr/////9x7/9x6/+GM/////+GO//rt//nn/9+I/////9hs//vu/////+y2//LQ/+in//vx//////XY//z1/9+F/96B/9lv//Xb//zy//75//35/+u1//bf/9hr/92A/+CJ/+CK//rs/+em/9Zn/9Vj/+OU/+u0//jm//HI/9pz/+y5/96E//jl/+ip/+mr/+KS/+qu//////bc/+uz/+y3/+ek/+/D/+ai/+io/+el/+GP/+Wf/////+Wd/+uy2/HFkwAAAON0Uk5TACVWh67K4vX+/PQBP4/T/xV21hLw//////////9r7P////////////////8nxP///////////////////1/6//////////////////////////////////+r/////7T//////////////////////2D////////5////////////////////////////7f///////xTv//////////////////+Q////1P////8m//9X/////63/////////////////////////////////////////E/////////////+O//+gj9eqAAAGe0lEQVR4nKUX+VtUVXQMWUzwijgjIIjOgpAsMsPMGwxFMNEmEcRCRFMGcU1FSw0GFFwwSFHESguzcAEJIXAXTbFSUbJs0ciyrL+kc+59982bN/PU7/P8MHPv2e59Z78ajQoMeclvqH9AYNCwlwP8h/q9NESNzycMDw4ZMYx4wLARIcHDn1N8ZOgo4hNGhY58DvEwv9FcQKsbEx4ROTZKp+WY0X5hz5KPHsdYYyLHT9AbjKbYiSajQR8X/8okhh8X/VTxhETKlZQ8OcVsMaVabTZBsNmsdlOaecqrEemUmJigLj91GnJkTM80Z9kFhBmvzcyeNft1XNodb8zJoSqmTVWTDyEkiJC5uZY8Ki3My2fXnv8m279VsKCQsoT4ll+IzEWLJpoYu6BfLNn/bRFlMs+mBl3oS34JUpYWO0tEZmEWyWDiGSRjmYizOeeVImqJyvnLDRMNXH7FSkCsmrF60RrQkMyxBpP1HZ93CEHs2jyjJC+sA0QhLjJBU9F6SUNqbBnyKuywAXEbY+2CG94FzGy6eg9Wm9yEzY4tyL1BLp/wPmDKU1Nl8kIFoCb7UiDY8yLQm/J4SATnzHdVGuQKqoApEhdbt8EnVMtJxprtIJDolo/GK8VlecgLO3YCMn9X7W6t3IjMDuYP6oAoRXUYxn+9U1DAhzwKMkjdagVtz17AN/DM8oPNvv12pYLGfCmQDihpTSUHAe3H5D/6GNafWJQ8cNP6Q1T88KfetLTPMLtZfQiFZbPV6s0kCCljgLbOF6XEeARIoSg/HOvP5z4ugHCUkPQdPilpX2CNwioXjOXjSy8LMACHtxzzSWlqPA6CwaDgBPxPT1PSXbm5J0+2HssGBW3FmQsWzGlUclgwok+AglPw325WUOO+IklJSenpmI8tFDqUnow9DbRTGk0n1G9tl/ILkokXRCpY7K6vodp3arqBFlVpU1B73EHEoUz5DaYzgO2mUVTm5YPGs8sjIiIjI85BhS0vTE4OH1vh8jJCPY2l8+hELxtymAl51KVCy8KKcV7jD79tShtKcIGQi/NUaKZLIOqvCYDfyyYVHgHCTdurQqtshZQM0ASCoU5Wqim4QshVvQrNeOwbQgI1UOaTMrkCQ07HWQ+mw4ScU7OBsfgadAmqoJUruA7fM0HO1EfIpBtyxITS7GL5DYLwE8i3Yiv6Dv3dI+dvJmRNimyvh+CZKa4rW5PwE9CI38eyD9Bh3GTL+A1QNm7KAyAej2hna1McQSOiG6tYHNyiEbf4tpu/X0fI8SkyBXPxiCNs7bhD3YiBdJdGop7NEUmtbv6aAU+F1SspSy3dWHbDcigN5XIT5kKOGPRVboHGDujNskSOZxzhdGMupKGMyTQJ6wm7ANzwB5mC+YR0yBQcYQpojWEVpZumMzkNVrwXk7H9RziRaN2Rcxs6/ECNtP2JZ2YttyGkMy0oNB2r57CGSOIliSlwiK5f2q5C6tqeqHA8oqCeFRRa0hY3NjGWXOw49yUR101CDkoNixKPi1ur4b5Y0rCokjs8obFIkJ+5SMoaqPjSBdBo5Bdx42gjYlGlZb20UhxMaDC2bBW5bsBw18flf0VSjJgZttgzvKzTxkLas0S2SBpMYgp3QUU6LBJ6Y5DCc828CXehrLXhaNq3WWxNxRfRlwOsGeivEnKF4fupC5u5BSqxZ4mtjcYSGb9H1L2LRsMh2tB6tTxwXdnUf5cYj8GJ0wNvrpqwBthc28Hnq99YPGW39wsu6K5jENfWQeQWNFXDPUnDA48B46GNTzi/i+EyMBgPsV+qv/zHBYZ4JDLYU6NwKxubccQhGx28Q/9ZR9zQcpGvjopka9oW4jniaBLokFzh5BqWPSTewCtNyZ6/cOsxZLExj+y1NHGnVzUrxLeLZURocj6mCI8xTxw0SU+eNKkZZszqqCNibyvKP7BfRBtjKyir18BNR11SeFvWpBozH4P4zZ6zf6+QcI4amlG+xm06bJN9m5xGt4renR7lQUh1xukom49hm9+B5HQ5pYnVAOH3jyRud6YMErXzEZ7Q1wTR7k0pMIn+uDf4L7d9XoHrFqYDsDzxLc+fPNCMylY3WcxGqzg12KypZos993oMo6o/eaRHF0Df3bZqQ54jDcCRZ1hf+99SPmo87dEFEN0geX6brvzRYH19z8a5uiIJ2fD0Z5/G4+HpDaP9HjxLXvPCT1+EF3x8M+jsZs//oEB8/nd3qvH9Dys9vGKNdwb3AAAAAElFTkSuQmCC"},3786:function(e,t,a){"use strict";t["a"]={isCheckRegister:"/auth/check-register",login:"/auth/login",uploadToken:"/auth/upload-token",upload:"/upload",fileLink:"/auth/file-link",loginOut:"/auth/loginout",timeUp:"/auth/time-up",changePassword:"/user/change-password",bindAccount:"/auth/bind-account",dissmiss:"/auth/dissmiss",siteDissmiss:"/auth/site-dissmiss",authCode:"/auth/code",validate:"/auth/validate",validateLogin:"/auth/validate-login",register:"/auth/register"}},"3b81":function(e){e.exports=JSON.parse('{"domain":"https://test.2550505.com","root":"https://test.2550505.com"}')},"3e39":function(e,t,a){},4360:function(e,t,a){"use strict";var s=a("a026"),n=a("2f62");const i={userInfo:{}},o={changeUserInfo(e,t){e.userInfo=t},addUserExp(e,t){e.userInfo.exp+=t},costContribution(e,t){e.userInfo.contribution-=t}},r={},l={isAdmin(e){return e.userInfo.role>=256},isManager(e){return!!(256&e.userInfo.role)},isChecker(e){return!!(512&e.userInfo.role)},isScoreManager(e){return!!(1024&e.userInfo.role)},isHobbyManager(e){return!!(2048&e.userInfo.role)},isChatManager(e){return!!(4096&e.userInfo.role)},isContributionManager(e){return!!(8192&e.userInfo.role)},isHanser(){return 65535===i.userInfo.role}},c={};var d={namespaced:!0,state:i,mutations:o,actions:r,getters:l,modules:c};const u={levels:[],levelInfo:{},nextLevelInfo:{}},p={setLevels(e,t){e.levels=t},setLevelInfo(e,t){e.levelInfo=t},setNextLevelInfo(e,t){e.nextLevelInfo=t}},m={},h={},f={};var g={namespaced:!0,state:u,mutations:p,actions:m,getters:h,modules:f};const v={windowWidth:0,isMobile:!1},b={setMedia(e,t){e.windowWidth=t,e.isMobile=t<=750}},y={},k={},w={};var x={namespaced:!0,state:v,mutations:b,actions:y,getters:k,modules:w},C=a("db04"),_=a("365c");const A={bilibili:[],douyu:[]},L={setBilibiliScore(e,t){e.bilibili=t},setDouyuScore(e,t){e.douyu=t}},T={updateScore(e){C["a"].get(_["a"].userScore).then(t=>{0===t.code&&(e.commit("setBilibiliScore",t.bilibili),e.commit("setDouyuScore",t.douyu))})}},D={},S={};var P={namespaced:!0,state:A,mutations:L,actions:T,getters:D,modules:S};const I={notice:{},followUnread:0},E={setNotice(e,t){e.notice=t},setFollowUnread(e,t){e.followUnread=t}},H={},O={},M={};var j={namespaced:!0,state:I,mutations:E,actions:H,getters:O,modules:M};const z={theme:window.localStorage.getItem("theme")||"light",themeWithAvatarBorder:["new-year-2022","new-year-2023"]},N={setTheme(e,t){e.theme=t}},B={},$={},F={};var V={namespaced:!0,state:z,mutations:N,actions:B,getters:$,modules:F},U=a("2287");const R={guessCoin:0,guessInfo:{}},G={setGuessCoin(e,t){e.guessCoin=t},addGuessCoin(e,t){e.guessCoin+=t},costGuessCoin(e,t){e.guessCoin-=t},setGuessInfo(e,t){e.guessInfo=t}},Y={updateGuessCoin(e){C["a"].get(U["a"].info).then(t=>{0===t.code&&e.commit("setGuessCoin",t.user.points)})}},K={},W={};var X={namespaced:!0,state:R,mutations:G,actions:Y,getters:K,modules:W};s["default"].use(n["a"]);const q=new n["a"].Store({state:{},mutations:{},actions:{},getters:{},modules:{users:d,level:g,media:x,score:P,notice:j,config:V,guess:X}});t["a"]=q},4445:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"load-more",attrs:{id:e.id}},[e.haveMore?t("div",{staticClass:"loading-text"},[t("img",{attrs:{src:"https://cdn.2550505.com/share/legacy-sso/new-year-2023-loading.gif",width:"50%",alt:"loading"}})]):t("span",{staticClass:"loading-text"},[e._v("----- 没有更多数据 -----")])])},n=[],i={name:"load-more",props:["name","haveMore"],data(){return{}},computed:{id(){return"hanser-load-more-"+this.name}},mounted(){const e=new IntersectionObserver(e=>{e[0].intersectionRatio&&this.$emit("load-more")}),t=document.getElementById(this.id);e.observe(t)}},o=i,r=(a("68ee"),a("2877")),l=Object(r["a"])(o,s,n,!1,null,"0e77c244",null),c=l.exports;t["a"]=c},4870:function(e,t,a){},"49ca":function(e,t,a){},"502a":function(e,t,a){"use strict";a("e666")},"50fc":function(e,t,a){"use strict";t["a"]={deletePost:"/post/delete/",recoverPost:"/post/recover",setPostValued:"/post/set-valued",removePostValued:"/post/remove-valued",setPostTopping:"/post/set-top",removePostTopping:"/post/remove-top",getLogList:"/post/log/list",getInfoCheckList:"/admin/info-apply-list",getAvatarCheckList:"/admin/avatar-apply-list",approveAvatarCheck:"/admin/avatar-apply-check",getBanList:"/post/ban/list",getRecoverList:"/post/recover/list",nicknameApplyList:"/admin/nickname-apply-list",nicknameApplyCheck:"/admin/nickname-apply-check",signApplyList:"/admin/sign-apply-list",signApplyCheck:"/admin/sign-apply-check",ban:"/admin/ban/",unban:"/admin/unban/",setBanTime:"/admin/set-ban-time/",banList:"/admin/ban-list",setAdmin:"/admin/set-admin",cancelAdmin:"/admin/cancel-admin",chatList:"/admin/chat",clearAccount:"/admin/clear-account",banWords:"/admin/ban-words",updateBanWords:"/admin/update-ban-words",reportList:"/admin/report-list",handleReport:"/admin/handle-report"}},"56d7":function(e,t,a){"use strict";a.r(t);a("6dca"),a("450d");var s=a("2cf9"),n=a.n(s),i=(a("e8de"),a("607c")),o=a.n(i),r=(a("eca7"),a("3787")),l=a.n(r),c=(a("425f"),a("4105")),d=a.n(c),u=(a("d96c"),a("0c9b")),p=a.n(u),m=(a("fb08"),a("21e5")),h=a.n(m),f=(a("b0ee"),a("d180")),g=a.n(f),v=(a("a335"),a("c0bb")),b=a.n(v),y=(a("dcba"),a("9e16")),k=a.n(y),w=(a("784f"),a("7532")),x=a.n(w),C=(a("3db2"),a("58b8")),_=a.n(C),A=(a("b8e0"),a("a4c4")),L=a.n(A),T=(a("186a"),a("301f")),D=a.n(T),S=(a("96dc"),a("9cea")),P=a.n(S),I=(a("826b"),a("c263")),E=a.n(I),H=(a("1951"),a("eedf")),O=a.n(H),M=(a("a7cc"),a("df33")),j=a.n(M),z=(a("560b"),a("dcdc")),N=a.n(z),B=(a("9d4c"),a("e450")),$=a.n(B),F=(a("10cb"),a("f3ad")),V=a.n(F),U=(a("e612"),a("dd87")),R=a.n(U),G=(a("cbb5"),a("8bbc")),Y=a.n(G),K=(a("075a"),a("72aa")),W=a.n(K),X=(a("6611"),a("e772")),q=a.n(X),J=(a("1f1a"),a("4e4b")),Z=a.n(J),Q=(a("5466"),a("ecdf")),ee=a.n(Q),te=(a("38a0"),a("ad41")),ae=a.n(te),se=(a("6b30"),a("c284")),ne=a.n(se),ie=(a("06f1"),a("6ac9")),oe=a.n(ie),re=(a("acb6"),a("c673")),le=a.n(re),ce=(a("672e"),a("101e")),de=a.n(ce),ue=(a("9e1f"),a("6ed5")),pe=a.n(ue),me=a("a026"),he=function(){var e=this,t=e._self._c;return e.safeSite?t("div",{attrs:{id:"app"}},[t("img",{staticClass:"test-img",attrs:{src:"https://cdn.2550505.com/share/ping.png",width:"0",height:"0"},on:{error:e.useAlternative,load:e.useDefault}}),e.alternativeImg?t("img",{staticClass:"test-img",attrs:{src:e.alternativeImg,width:"0",height:"0"},on:{error:e.useAlternative2,load:e.useDefault2}}):e._e(),t("router-view")],1):e._e()},fe=[],ge={name:"App",data(){return{alternativeImg:""}},methods:{updateDb(e){const t=indexedDB.open("cdn",1);t.onupgradeneeded=()=>{const e=t.result,a=e.createObjectStore("cdnRoot",{keyPath:"id"},{autoIncrement:!0});a.createIndex("cdnRoot_id_unqiue","id",{unique:!0})},t.onsuccess=t=>{const a=t.target.result,s=a.transaction(["cdnRoot"],"readwrite"),n=s.objectStore("cdnRoot");n.put({id:1,root:e}).onsuccess=()=>{}},t.onerror=()=>{console.log("数据库出错")}},useAlternative(){this.alternativeImg="https://cdn.ihan.club/share/ping.png"},useDefault(){this.updateDb("https://cdn.2550505.com")},useDefault2(){this.updateDb("https://cdn.ihan.club")},useAlternative2(){this.updateDb("https://cdn1.2550505.com")}},computed:{safeSite(){const e=window.location.hostname,t=["localhost","2550505.com","255.2550505.com","ihan.club","club.hanser.fun","ihan.fan"];return t.some(t=>e.includes(t))}}},ve=ge,be=(a("502a"),a("2877")),ye=Object(be["a"])(ve,he,fe,!1,null,null,null),ke=ye.exports,we=a("8c4f"),xe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index",attrs:{"data-theme":e.theme}},["new-year-2022"===e.theme?t("div",{staticClass:"snow-cover"},[e._l(50,(function(e){return t("div",{key:"snow-1"+e,staticClass:"snow1"})})),e._l(50,(function(e){return t("div",{key:"snow-2"+e,staticClass:"snow2"})}))],2):e._e(),t("router-view")],1)},Ce=[],_e=a("2f62"),Ae=a("db04"),Le=a("365c"),Te={name:"index",data(){return{theme:window.localStorage.getItem("theme")||"light",themeVersion:Number(window.localStorage.getItem("themeVersion"))||0}},methods:{...Object(_e["c"])({setMedia:"media/setMedia",setTheme:"config/setTheme"}),setWindowWidth(){const e=document.body.clientWidth;this.setMedia(e)},getThemeVersion(){Ae["a"].get(Le["a"].theme).then(e=>{if(0===e.code&&e.version>this.themeVersion){this.themeVersion=e.version,this.theme=e.theme,window.localStorage.setItem("themeVersion",this.themeVersion),window.localStorage.setItem("theme",this.theme);const t=new CustomEvent("change-theme",{detail:{theme:this.theme}});window.dispatchEvent(t)}})}},mounted(){this.setWindowWidth(),window.onresize=()=>{this.setWindowWidth()},window.addEventListener("change-theme",e=>{this.theme=e.detail.theme,window.localStorage.setItem("theme",this.theme),document.body.setAttribute("data-theme",this.theme),this.setTheme(this.theme)}),this.getThemeVersion(),console.log(" ____    ____   ______     ______  _____  _____  _____  ______    \n|_   \\  /   _|.' ___  |  .' ___  ||_   _||_   _||_   _||_   _ \\   \n  |   \\/   | / .'   \\_| / .'   \\_|  | |    | |    | |    | |_) |  \n  | |\\  /| | | |   ____ | |         | |   _| '    ' |    |  __'.  \n _| |_\\/_| |_\\ `.___]  |\\ `.___.'\\ _| |__/ |\\ \\__/ /    _| |__) | \n|_____||_____|`._____.'  `.____ .'|________| `.__.'    |_______/  "),console.log("关注我们,B站搜索: %c毛怪俱乐部","color: rgb(251, 114, 153);")}},De=Te,Se=(a("22c7"),Object(be["a"])(De,xe,Ce,!1,null,"5c3413b2",null)),Pe=Se.exports;me["default"].use(we["a"]);const Ie=we["a"].prototype.replace;we["a"].prototype.replace=function(e){return Ie.call(this,e).catch(e=>e)};const Ee=we["a"].prototype.push;we["a"].prototype.push=function(e){return Ee.call(this,e).catch(e=>e)};var He=new we["a"]({mode:"history",routes:[{path:"/",component:Pe,children:[{path:"/",meta:{userInfo:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d21d0c2"),a.e("chunk-bc1dd78e"),a.e("chunk-cb82a2fa"),a.e("chunk-78a0d676")]).then(a.bind(null,"ed3a")),children:[{path:"/",name:"mainIndex",meta:{userInfo:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-d81b2996"),a.e("chunk-9d3ea1f6")]).then(a.bind(null,"c3a8"))},{path:"/postDetails/:postId",name:"post-details",meta:{userInfo:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-3d6557f8")]).then(a.bind(null,"f26e"))},{path:"/post/:postId",name:"post",meta:{userInfo:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-3d6557f8")]).then(a.bind(null,"f26e"))},{path:"/notice",name:"notice",meta:{userInfo:!0,level:!0,login:!0},component:()=>a.e("chunk-61573d4c").then(a.bind(null,"3dfe"))},{path:"/to-be-continued",name:"to-be-continued",meta:{userInfo:!0,level:!0},component:()=>a.e("chunk-0a32f6ad").then(a.bind(null,"c75f"))},{path:"/backup/:postId",name:"backup",meta:{userInfo:!0,level:!0},component:()=>a.e("chunk-20f2ee84").then(a.bind(null,"b034"))},{path:"/manager",name:"manager",meta:{userInfo:!0,level:!0,admin:!0},component:()=>a.e("chunk-0901f3c0").then(a.bind(null,"0943"))},{path:"/score",name:"score",meta:{userInfo:!0,level:!0,login:!0},component:()=>a.e("chunk-7c778b60").then(a.bind(null,"ec50"))},{path:"/my-follow",name:"my-follow",meta:{level:!0,login:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-d81b2996"),a.e("chunk-20975e04")]).then(a.bind(null,"6126"))},{path:"/my-like",name:"my-like",meta:{level:!0,login:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-d81b2996"),a.e("chunk-56e36d18")]).then(a.bind(null,"2a38"))},{path:"/hot-recommends",name:"hot-recommends",meta:{level:!0,login:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-d81b2996"),a.e("chunk-f8847926")]).then(a.bind(null,"a26a"))},{path:"/contribution-exchange",name:"contribution-exchange",meta:{userInfo:!0,level:!0,login:!0},component:()=>a.e("chunk-6c510ad6").then(a.bind(null,"fb12"))}]},{path:"/param",name:"param",component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-d81b2996"),a.e("chunk-2dec493c")]).then(a.bind(null,"108b")),meta:{login:!0,admin:!0,level:!0}},{path:"/login",name:"login",component:()=>a.e("chunk-f52ea0aa").then(a.bind(null,"dd7b"))},{path:"/register",name:"register",meta:{userInfo:!0},component:()=>a.e("chunk-1225164e").then(a.bind(null,"7803"))},{path:"/tripartiteVerify",name:"tripartiteVerify",meta:{userInfo:!0},component:()=>a.e("chunk-025955c0").then(a.bind(null,"eeb30"))},{path:"/tripartiteVerify-pwd",name:"tripartiteVerify-pwd",meta:{userInfo:!0,login:!0},component:()=>a.e("chunk-498adf20").then(a.bind(null,"a1a3"))},{path:"/tripartiteVerify-pinless",name:"tripartiteVerify-pinless",meta:{userInfo:!0,login:!0},component:()=>a.e("chunk-1287a6b4").then(a.bind(null,"5def"))},{path:"/change-password",name:"change-password",meta:{userInfo:!0,login:!0},component:()=>a.e("chunk-3b8860d5").then(a.bind(null,"9d4e"))},{path:"/post",name:"post-page",component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-3d6557f8")]).then(a.bind(null,"f26e"))},{path:"/home",name:"home",meta:{userInfo:!0,level:!0,login:!0},component:()=>Promise.all([a.e("chunk-2d21d0c2"),a.e("chunk-bc1dd78e"),a.e("chunk-777ad7ea")]).then(a.bind(null,"6511"))},{path:"/space/:uid",name:"space",meta:{userInfo:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-2d21d0c2"),a.e("chunk-bc1dd78e"),a.e("chunk-cb82a2fa"),a.e("chunk-34a7858e")]).then(a.bind(null,"cb33"))},{path:"/tag/:tagId",name:"tag",meta:{userInfo:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d0a50f6"),a.e("chunk-d81b2996"),a.e("chunk-2d21d0c2"),a.e("chunk-bc1dd78e"),a.e("chunk-72d3bd82")]).then(a.bind(null,"bdb6"))},{path:"/hanser/admin",name:"admin",meta:{userInfo:!0,admin:!0},component:()=>a.e("chunk-12c53e30").then(a.bind(null,"b6a5"))},{path:"/score-hobby/:hobbyId",name:"score-hobby",meta:{userInfo:!0,login:!0,level:!0},component:()=>Promise.all([a.e("chunk-2d21d0c2"),a.e("chunk-bc1dd78e"),a.e("chunk-267e0e61")]).then(a.bind(null,"4e5e"))},{path:"/oauth2",name:"oauth2",meta:{userInfo:!0},component:()=>a.e("chunk-24ef0e8e").then(a.bind(null,"c860"))},{path:"/year/2024",name:"2024",component:()=>Promise.all([a.e("chunk-2d21d0c2"),a.e("chunk-6aaa4858")]).then(a.bind(null,"de35"))},{path:"/post_not_found",name:"post_not_found",component:()=>a.e("chunk-3c9badae").then(a.bind(null,"01c3"))},{path:"*",name:"404",component:()=>a.e("chunk-3033eea4").then(a.bind(null,"8cdb"))}]}]}),Oe=a("2570"),Me=a.n(Oe),je=a("77ed"),ze=a.n(je),Ne=(a("f5df1"),a("9cf1"),a("becf"),a("90f4"),a("d0c5"),a("a101"),a("560e"),a("cb23")),Be=a("a09c");function $e(e){const{src:t}=e,a=Object(Be["a"])("div",{props:{contentEditable:!1},style:{margin:"10px 0","text-indent":"0",border:"2px solid var(--w-e-textarea-selected-border-color)"},on:{click(){}}},[Object(Be["a"])("img.upload-img",{props:{src:t},attrs:{referrerpolicy:"no-referrer"},style:{width:"100%"}})]);return a}const Fe={type:"image",renderElem:$e};var Ve=Fe;function Ue(e){const{src:t}=e;return`<img src="${t}" referrerpolicy="no-referrer" data-w-e-type="image" data-w-e-is-void data-w-e-is-inline class="upload-img" />`}const Re={type:"image",elemToHtml:Ue};var Ge=Re;function Ye(e){const t=e.getAttribute("src")||"";return{type:"image",src:t,children:[{text:""}]}}const Ke={selector:'img[class="upload-img"]',parseElemHtml:Ye};var We=Ke,Xe={renderElems:Ve,elemToHtmlConfig:Ge,parseHtmlConfig:We};function qe(e){const{src:t}=e,a=Object(Be["a"])("div",{props:{contentEditable:!1},style:{display:"inline-block","text-indent":"0",marginRight:"2px"},on:{click(){}}},[Object(Be["a"])("img.emoticon-img",{props:{src:t,name:name},style:{width:"50px",height:"50px"}})]);return a}const Je={type:"emotion-image",renderElem:qe};var Ze=Je;function Qe(e){const{src:t,name:a}=e;return`<img src="${t}" alt="${a}" title="${a}" data-emotion-name="${a}" data-w-e-type="emotion-image" data-w-e-is-void data-w-e-is-inline class="emoticon-img">`}const et={type:"emotion-image",elemToHtml:Qe};var tt=et;function at(e){const t=e.getAttribute("src")||"",a=e.getAttribute("data-emotion-name")||"";return{type:"emotion-image",src:t,name:a,children:[{text:""}]}}const st={selector:'img[class="emoticon-img"]',parseElemHtml:at};var nt=st,it={renderElems:Ze,elemToHtmlConfig:tt,parseHtmlConfig:nt};a("0643"),a("4e3e");const ot='<svg viewBox="0 0 1024 1024"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z"></path></svg>',rt=a("7e17");class lt{constructor(){this.title="表情",this.iconSvg=ot,this.tag="button",this.showDropPanel=!0,this.dom=null,this.left=0,this.showDropPanel=!0,this.currentActiveSortIndex=0}isActive(){return!1}getValue(){return""}exec(){}isDisabled(){return!1}getPanelContentElem(e){if(null==this.dom){const t=document.createElement("div");t.classList.add("editor-emotions");const a="https://cdn.2550505.com/share/assets/mgclub/emotion/",s=document.createElement("div");s.classList.add("editor-root-emotions"),t.appendChild(s);const n=document.createElement("div");n.classList.add("editor-emotions--sorts");const i=document.createElement("div");i.classList.add("editor-emotions--sorts-container");const o=document.createElement("div");o.classList.add("editor-emotions--sorts-wrapper"),i.appendChild(o);const r=()=>{rt.forEach((t,n)=>{const i=document.createElement("div");i.classList.add("emotion-image-list-wrapper"),i.style.display=0===n?"block":"none",t.emotions.forEach(s=>{const n=s.split(".")[0],o=a+t.root+"/"+s,r=document.createElement("div");r.classList.add("emotion-image-wrapper");const l=document.createElement("img");l.classList.add("emotion-image"),l.src=o,l.title=n,l.alt=n,l.loading="lazy",r.addEventListener("click",()=>{e.insertNode({type:"emotion-image",src:o,name:n,children:[{text:""}]})}),r.appendChild(l),i.appendChild(r)}),s.appendChild(i)})},l=document.createElement("div"),c=70;l.classList.add("editor-emotions--cart","editor-emotions--left-cart");const d=document.createElement("i");d.classList.add("el-icon-arrow-left"),l.appendChild(d),l.addEventListener("click",()=>{this.left-=5*c,this.left<0&&(this.left=0),o.style.left=`-${this.left}px`}),n.appendChild(l),n.appendChild(i),o.innerHTML="";const u=document.getElementsByClassName("emotion-image-list-wrapper");rt.forEach((e,t)=>{const s=document.createElement("div");s.classList.add("editor-emotions--certain-sort"),this.currentActiveSortIndex===t&&s.classList.add("editor-emotions--certain-sort__selected");const n=document.createElement("img");n.classList.add("editor-emotions--certain-sort__img"),n.src=a+e.root+"/"+e.emotions[0],s.appendChild(n),s.addEventListener("click",()=>{document.getElementsByClassName("editor-emotions--certain-sort__selected")[0].classList.remove("editor-emotions--certain-sort__selected"),s.classList.add("editor-emotions--certain-sort__selected"),this.currentActiveSortIndex=Array.from(o.children).indexOf(s),Array.from(u).forEach((e,t)=>{t===this.currentActiveSortIndex?e.style.display="block":e.style.display="none"})}),o.appendChild(s)}),r();const p=document.createElement("div");p.classList.add("editor-emotions--cart","editor-emotions--right-cart");const m=document.createElement("i");m.classList.add("el-icon-arrow-right"),p.appendChild(m),p.addEventListener("click",()=>{this.left+5*c>rt.length*c||(this.left+=5*c,o.style.left=`-${this.left}px`)}),n.appendChild(p),t.appendChild(n),this.dom=t}return this.dom}}var ct=lt;const dt={key:"emotions",factory(){return new ct}};var ut=dt;function pt(e){const{src:t,title:a}=e,s=Object(Be["a"])("span.editor-video",{props:{contentEditable:!1},style:{display:"block",padding:"30px 10px",margin:"10px 0","text-indent":"0",border:"2px solid var(--w-e-textarea-selected-border-color)"},on:{click(){}}},[Object(Be["a"])("iframe",{props:{src:t},attrs:{src:t},style:{width:"100%",height:"400px"}}),Object(Be["a"])("a.video-title",{props:{contentEditable:!1,target:"_blank",href:t,src:t},style:{display:"inline-block",color:"var(--theme-color-primary)",width:"100%",height:"40px",lineHeight:"40px",textAlign:"center",textDecoration:"none"}},a)]);return s}const mt={type:"editor-video",renderElem:pt};var ht=mt;function ft(e){const{src:t,title:a}=e;return`<span data-src="${t}" data-w-e-type="editor-video" data-w-e-is-void data-w-e-is-inline data-title="${a}" class="editor-video" contenteditable="false"><iframe class="video" src="${t}" style="width: 100%; height: 400px;"></iframe><a class="video-title" contenteditable="false" target="_blank" href="${t}">${a}</a></span>`}const gt={type:"editor-video",elemToHtml:ft};var vt=gt;function bt(e){const t=e.getAttribute("data-src"),a=e.getAttribute("data-title");return{type:"editor-video",src:t,title:a,children:[{text:""}]}}const yt={selector:'span[class="editor-video"]',parseElemHtml:bt};var kt=yt,wt={renderElems:ht,elemToHtmlConfig:vt,parseHtmlConfig:kt};function xt(e,t,a){const{avatar:s,nickname:n}=e,i=Ne["DomEditor"].isNodeSelected(a,e),o=Object(Be["a"])("span.birthday-card",{props:{contentEditable:!1},attrs:{"data-avatar":s},dataset:{selected:i?"true":""},style:{display:"block",width:"55%",borderRadius:"8px",overflow:"hidden",border:"1px solid var(--w-e-textarea-selected-border-color)"},on:{click(){}}},[Object(Be["a"])("span.birthday-picture",{style:{display:"block",position:"relative",textAlign:"center",lineHeight:0}},[Object(Be["a"])("img.birthday-img",{attrs:{src:"https://cdn.2550505.com/share/legacy-sso/birthday-picture.png"},style:{width:"100%",position:"relative",zIndex:9}}),Object(Be["a"])("span.birthday-avatar",{style:{position:"absolute",width:"27%",aspectRatio:1,borderRadius:"50%",overflow:"hidden",top:"40%",left:"50%",transform:"translateX(-50%)",backgroundColor:"var(--theme-bg-color-white)"}},[Object(Be["a"])("img.birthday-avatar-img",{attrs:{src:s,alt:n},style:{width:"100%",height:"100%",objectFit:"cover"}})])])]);return o}const Ct={type:"birthday-card",renderElem:xt};var _t=Ct;function At(e){const{avatar:t,nickname:a}=e,s=`<span class="birthday-card" data-avatar="${t}" data-nickname="${a}" data-w-e-type="birthday-card" data-w-e-is-void data-w-e-is-inline><span class="birthday-picture"><img src="https://cdn.2550505.com/share/legacy-sso/birthday-picture.png" class="birthday-img" /><span class="birthday-avatar"><img src="${t}" width="100%" height="100%" alt="${a}" class="birthday-avatar-img" /></span></span></span>`;return s}const Lt={type:"birthday-card",elemToHtml:At};var Tt=Lt;function Dt(e){const t=e.getAttribute("data-avatar")||"https://cdn.2550505.com/share/legacy-sso/thumbnail.default.png",a=e.getAttribute("data-nickname")||"";return{type:"birthday-card",avatar:t,nickname:a,children:[{text:""}]}}const St={selector:'span[class="birthday-card"]',parseElemHtml:Dt};var Pt=St,It={renderElems:_t,elemToHtmlConfig:Tt,parseHtmlConfig:Pt};const Et=(e,t)=>{const a=new Date(e),s=new Date(t),n=Math.abs(s.getTime()-a.getTime()),i=Math.ceil(n/864e5);return i};function Ht(e,t,a){const{avatar:s,nickname:n,days:i}=e,o=Ne["DomEditor"].isNodeSelected(a,e);let r="",l={},c={},d={},u=0;const p=Et("2021-12-31",Date.now())+1;i<500?(r="https://cdn.2550505.com/share/assets/mgclub/editor/sign-1.png",u=1,l={width:"30px",height:"30px",top:"161px",left:"33px"},c={width:"90px",top:"179px",left:"68px",transform:"rotate(10deg)",color:"#fff"},d={width:"100px",top:"161px",left:"201px",transform:"rotate(-11deg)",color:"#fff"}):i>=500&&i<p?(r="https://cdn.2550505.com/share/assets/mgclub/editor/sign-2.png",u=2,l={width:"69px",height:"69px",top:"62px",left:"56px"},c={width:"75px",top:"6px",left:"1px",transform:"rotate(8deg)",color:"#fff"},d={width:"160px",top:"159px",left:"46px",transform:"rotate(6deg)",color:"#B35F55"}):i===p&&(r="https://cdn.2550505.com/share/assets/mgclub/editor/sign-3.png",u=3,l={width:"35px",height:"35px",top:"128px",left:"167px"},c={width:"75px",top:"2px",left:"1px",transform:"rotate(0deg)",color:"#E48F70"},d={width:"60px",top:"170px",left:"214px",transform:"rotate(0deg)",color:"#E48F70"});const m=Object(Be["a"])("span.sign-days-card.sign-days-card-"+u,{props:{contentEditable:!1},attrs:{"data-avatar":s,"data-nickname":n,"data-days":i},dataset:{selected:o?"true":""},style:{display:"block",width:"300px",borderRadius:"8px",overflow:"hidden",boxSizing:"content-box",border:"1px solid var(--w-e-textarea-selected-border-color)"},on:{click(){}}},[Object(Be["a"])("span.sign-card-wrapper",{style:{position:"relative",display:"block",width:"100%",height:"200px"}},[Object(Be["a"])("img.sign-card-bg",{attrs:{src:r},style:{width:"100%"}}),Object(Be["a"])("span.sign-avatar",{style:{...l,position:"absolute",display:"block",borderRadius:"50%",overflow:"hidden"}},[Object(Be["a"])("img.sign-avatar-img",{attrs:{src:s,alt:n},style:{width:"100%",height:"100%",objectFit:"cover"}})]),Object(Be["a"])("span.sign-nickname",{style:{...c,position:"absolute",display:"block",fontSize:"12px",fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},n),Object(Be["a"])("span.sign-days",{style:{...d,position:"absolute",display:"block",fontSize:"16px",fontWeight:"bold",textAlign:"center"}},i)])]);return m}const Ot={type:"sign-days-card",renderElem:Ht};var Mt=Ot;const jt=(e,t)=>{const a=new Date(e),s=new Date(t),n=Math.abs(s.getTime()-a.getTime()),i=Math.ceil(n/864e5);return i};function zt(e){const{avatar:t,nickname:a}=e,s=Number(e.days),n=jt("2021-12-31",Date.now())+1;let i="",o=0;s<500?(i="https://cdn.2550505.com/share/assets/mgclub/editor/sign-1.png",o=1):s>=500&&s<n?(i="https://cdn.2550505.com/share/assets/mgclub/editor/sign-2.png",o=2):s===n&&(i="https://cdn.2550505.com/share/assets/mgclub/editor/sign-3.png",o=3);const r=`<span class="sign-days-card" data-bg-class="${o}" data-w-e-type="sign-days-card" data-w-e-is-void data-w-e-is-inline data-nickname="${a}" data-avatar="${t}" data-days="${s}" data-bg="${i}"><span class="sign-card-wrapper"><img class="sign-card-bg" src="${i}" /><span class="sign-avatar"><img class="sign-avatar-img" src="${t}" alt="${a}"></span><span class="sign-nickname">${a}</span><span class="sign-days">${s}</span></span></span>`;return r}const Nt={type:"sign-days-card",elemToHtml:zt};var Bt=Nt;function $t(e){const t=e.getAttribute("data-avatar")||"https://cdn.2550505.com/share/legacy-sso/thumbnail.default.png",a=e.getAttribute("data-nickname")||"",s=e.getAttribute("data-days")||"0";return{type:"sign-days-card",avatar:t,nickname:a,days:s,children:[{text:""}]}}const Ft={selector:'span[class="sign-days-card"]',parseElemHtml:$t};var Vt=Ft,Ut={renderElems:Mt,elemToHtmlConfig:Bt,parseHtmlConfig:Vt};const Rt='<svg class="icon" style="width: 1.3em;height: 1.3em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5228"><path d="M777.514667 131.669333a53.333333 53.333333 0 0 1 0 75.434667L728.746667 255.829333h49.92A160 160 0 0 1 938.666667 415.872v320a160 160 0 0 1-160 160H245.333333A160 160 0 0 1 85.333333 735.872v-320a160 160 0 0 1 160-160h49.749334L246.4 207.146667a53.333333 53.333333 0 1 1 75.392-75.434667l113.152 113.152c3.370667 3.370667 6.186667 7.04 8.448 10.965333h137.088c2.261333-3.925333 5.12-7.68 8.490667-11.008l113.109333-113.152a53.333333 53.333333 0 0 1 75.434667 0z m1.152 231.253334H245.333333a53.333333 53.333333 0 0 0-53.205333 49.365333l-0.128 4.010667v320c0 28.117333 21.76 51.157333 49.365333 53.162666l3.968 0.170667h533.333334a53.333333 53.333333 0 0 0 53.205333-49.365333l0.128-3.968v-320c0-29.44-23.893333-53.333333-53.333333-53.333334z m-426.666667 106.666666c29.44 0 53.333333 23.893333 53.333333 53.333334v53.333333a53.333333 53.333333 0 1 1-106.666666 0v-53.333333c0-29.44 23.893333-53.333333 53.333333-53.333334z m320 0c29.44 0 53.333333 23.893333 53.333333 53.333334v53.333333a53.333333 53.333333 0 1 1-106.666666 0v-53.333333c0-29.44 23.893333-53.333333 53.333333-53.333334z" p-id="1703"></path></svg>';class Gt{constructor(){this.title="B站视频",this.iconSvg=Rt,this.tag="button",this.showModal=!0,this.modalWidth=300}isActive(){return!1}getValue(){return""}isDisabled(){return!1}exec(){}getModalPositionNode(){return null}getModalContentElem(e){const t=document.createElement("div"),a=document.createElement("input"),s=document.createElement("button");return t.classList.add("editor-video-wrapper"),a.classList.add("editor-video-input"),s.classList.add("editor-video-btn"),a.setAttribute("placeholder","BVXXXXX"),s.innerText="添加",t.append(a),t.append(s),s.addEventListener("click",async()=>{const{value:t}=a;if("bv"!==t.slice(0,2).toLocaleLowerCase())return void window.$vm.$message({type:"warning",message:"BV号必须以BV开头"});const s=await Ae["a"].get(Le["a"].getVideoInfo,{params:{bv:t}});if(0===s.code){const{title:a,cover:n}=s,i={title:a,cover:n};e.insertNode({type:"editor-video",src:`https://player.bilibili.com/player.html?bvid=${t}&page=1&high_quality=1&autoplay=0`,title:i.title,children:[{text:""}]})}else window.$vm.$message({type:"warning",message:"BV号不存在"})}),t}}var Yt=Gt;const Kt={key:"videoFrame",factory(){return new Yt}};var Wt=Kt;a("88a7"),a("271a"),a("5494");const Xt='<svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5228"><path d="M450.133 213.333L305.067 42.667H140.8l145.067 170.666z m426.667 0L731.733 42.667H567.467l145.066 170.666z m-213.333 0L518.4 42.667H354.133L499.2 213.333z m275.2-170.666H780.8l145.067 170.666h76.8V106.667c0-36.267-27.734-64-64-64z m-846.934 0h-6.4c-36.266 0-64 27.733-64 64v106.666H236.8L91.733 42.667z m-70.4 874.666c0 36.267 27.734 64 64 64h853.334c36.266 0 64-27.733 64-64V256H21.333v661.333zM362.667 448c0-36.267 29.866-53.333 64-53.333 10.666 0 23.466 2.133 34.133 8.533L704 544c42.667 23.467 42.667 83.2 0 106.667l-243.2 140.8c-10.667 6.4-21.333 8.533-34.133 8.533-34.134 0-64-17.067-64-53.333V448z" p-id="5229"></path></svg>';class qt{constructor(){this.title="上传短视频",this.iconSvg=Xt,this.tag="button"}isActive(){return!1}getValue(){return""}isDisabled(){return!1}exec(e){const t=document.getElementById("upload-video");t.click(),t.onchange=a=>{const s=a.target.files[0];e.insertNode({type:"editor-video",src:URL.createObjectURL(s),title:s.name,children:[{text:""}]}),t.type="text",t.type="file"}}}var Jt=qt;const Zt={key:"videoUpload",factory(){return new Jt}};var Qt=Zt;function ea(e){return e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function ta(e,t,a){const{uid:s,avatar:n,nickname:i,exp:o,level:r,levelName:l,colorStyle:c}=e,d=Ne["DomEditor"].isNodeSelected(a,e),u={};c.split(";").forEach(e=>{const t=e.split(":");if(2===t.length){const e=t[0].replace("\n","").trim(),a=t[1].replace("\n","").trim();u[ea(e)]=a}});const p=Object(Be["a"])("span",{props:{contentEditable:!1}},[Object(Be["a"])("a",{props:{contentEditable:!1,target:"_blank",href:"/space/"+s,uid:s,avatar:n,nickname:i,exp:o},attrs:{"data-mention":s,"data-id":s,"data-avatar":n,class:"mention-user","data-uid":s,"data-nickname":i,"data-exp":o,"data-level":r,"data-level-name":l,"data-color-style":c,"data-label":i},dataset:{selected:d?"true":""},style:{margin:"10px",display:"inline-flex",alignItems:"center",width:"200px",height:"60px",padding:"5px",boxSizing:"border-box",textIndent:"0",textDecoration:"none",border:"1px solid var(--w-e-textarea-selected-border-color)"},on:{click(){}}},[Object(Be["a"])("div.mention-user--avatar",{props:{avatar:n,nickname:i},style:{width:"50px",height:"50px",borderRadius:"50%",overflow:"hidden"}},[Object(Be["a"])("img",{props:{src:n},style:{width:"100%",height:"100%",objectFit:"cover"},attr:{alt:i,title:i}})]),Object(Be["a"])("div.mention-user--info",{props:{uid:s,avatar:n,nickname:i,exp:o},style:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:"10px"}},[Object(Be["a"])("div.mention-user--nickname",{props:{nickname:i},style:u},i),Object(Be["a"])("div.mention-user--level-label",{props:{},style:{display:"inline-flex",alignItems:"center",width:"max-content",padding:"3px 5px","background-color":"var(--theme-level-label-bg-color)"}},[Object(Be["a"])("img.mention-user--level-labela__img",{props:{src:`https://cdn.2550505.com/share/legacy-sso/${r}.png`},style:{width:"20px",height:"20px"}}),Object(Be["a"])("div.mention-user--level-label__name",{props:{uid:s,avatar:n,nickname:i,exp:o,levelName:l},style:{color:"var(--theme-level-label-text-color)","font-size":"12px","box-sizing":"border-box","margin-left":"5px"}},l)])])])]);return p}const aa={type:"mention-user",renderElem:ta};var sa=aa;function na(e){const{uid:t,avatar:a,nickname:s,level:n,levelName:i,colorStyle:o}=e,r=`<a target="_blank" href="/space/${t}" data-color-style="${o}" data-avatar="${a}" data-uid="${t}" data-nickname="${s}" data-level="${n}" data-level-name="${i}" data-w-e-type="mention-user" data-w-e-is-inline class="mention-user"><span class="mention-user--avatar"><img src="${a}"></span><span class="mention-user--info"><span class="mention-user--nickname" style="${o}">${s}</span><span class="mention-user--level-label"><img class="mention-user--level-labela__img" src="https://cdn.2550505.com/share/legacy-sso/${n}.png" style="width: 20px; height: 20px;"><span class="mention-user--level-label__name">${i}</span></span></span></a>`;return r}const ia={type:"mention-user",elemToHtml:na};var oa=ia;function ra(e){const t=Number(e.getAttribute("data-uid"))||0,a=e.getAttribute("data-avatar")||"",s=e.getAttribute("data-nickname")||"",n=Number(e.getAttribute("data-level"))||0,i=e.getAttribute("data-level-name")||"",o=e.getAttribute("data-color-style")||"";return{type:"mention-user",uid:t,avatar:a,nickname:s,level:n,levelName:i,colorStyle:o,children:[{text:""}]}}const la={selector:'a[class="mention-user"]',parseElemHtml:ra};var ca=la,da={renderElems:sa,elemToHtmlConfig:oa,parseHtmlConfig:ca};a("9a9a");const ua=["image","emotion-image","mention-user","editor-video","birthday-card","sign-days-card"],pa=["image","emotion-image","mention-user","editor-video","birthday-card","sign-days-card"],ma=["mention-user","editor-video","birthday-card","sign-days-card"],ha=e=>{const{EXTEND_CONF:t}=e.getConfig(),{cammandConfig:a}=t;return a};function fa(e){const{isInline:t,isVoid:a,normalizeNode:s,insertText:n}=e,i=e;return i.isInline=e=>{const a=Ne["DomEditor"].getNodeType(e);return ua.includes(a)||t(e)},i.isVoid=e=>{const t=Ne["DomEditor"].getNodeType(e);return pa.includes(t)||a(e)},i.normalizeNode=([e,t])=>{const a=Ne["DomEditor"].getNodeType(e);if(!ma.includes(a))return s([e,t]);const n=i.children||[],o=n[t[0]+1]||{},r=Ne["DomEditor"].getNodeType(o);if("paragraph"!==r&&"blockquote"!==r&&!r.startsWith("header")){const e={type:"span",children:[{text:""}]},a=[t[0]+1];Ne["SlateTransforms"].insertNodes(i,e,{at:a})}},i.insertText=e=>{const t=Ne["DomEditor"].getSelectedElems(i),a=t.some(e=>i.isVoid(e));if(a)return void n(e);const{showModal:s,hideModal:o}=ha(i);s?("#"===e&&setTimeout(()=>{s&&s(i),setTimeout(()=>{const e=()=>{o&&o(i)};i.once("fullScreen",e),i.once("unFullScreen",e),i.once("scroll",e),i.once("modalOrPanelShow",e),i.once("modalOrPanelHide",e);const t=()=>{null!=i.selection&&(e(),i.off("change",t))};i.on("change",t)})}),n(e)):n(e)},i}var ga=fa,va=function(){var e=this,t=e._self._c;return t("i",{class:e.icon})},ba=[],ya={name:"icon",props:{icon:{type:String,required:!0}}},ka=ya,wa=Object(be["a"])(ka,va,ba,!1,null,null,null),xa=wa.exports,Ca=(a("0fae"),a("5887")),_a=a.n(Ca),Aa=a("4d1c"),La=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ban"},[e.isMobile?e.display?t("div",{staticClass:"dialog"},[t("div",{staticClass:"ban-notice"},[e._v("请选择封禁的固定时间段或具体时间点，均选优先使用固定时间段")]),t("div",{staticClass:"ban-period"},[t("h-radio-group",{on:{change:function(t){e.banTime=null}},model:{value:e.banPeriodSelected,callback:function(t){e.banPeriodSelected=t},expression:"banPeriodSelected"}},[t("span",[e._v("固定时间段：")]),t("div",{staticClass:"days"},e._l(e.banPeriodList,(function(e){return t("h-radio",{key:e.period,attrs:{border:"",value:e.period,label:e.value}})})),1),t("h-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.banPeriodSelected=-1}}},[e._v("重置")])],1)],1),t("div",{staticClass:"ban-time"},[t("span",[e._v("具体时间点：")]),t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},on:{change:function(t){e.banPeriodSelected=-1}},model:{value:e.banTime,callback:function(t){e.banTime=t},expression:"banTime"}})],1),0===e.type?t("div",{staticClass:"ban-reason"},[t("span",[e._v("封禁的理由：")]),t("el-autocomplete",{staticClass:"ban-reason__input",attrs:{name:"ban-reason","fetch-suggestions":e.queryReason,placeholder:"请输入封禁理由"},model:{value:e.banReason,callback:function(t){e.banReason=t},expression:"banReason"}})],1):e._e(),t("span",{staticClass:"dialog-footer"},[t("h-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.display=!1}}},[e._v("取 消")]),t("h-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small"},on:{click:e.banUser}},[e._v("确 定")])],1)]):e._e():t("el-dialog",{attrs:{title:"封禁",visible:e.display},on:{"update:visible":function(t){e.display=t}}},[t("div",{staticClass:"ban-notice"},[e._v("请选择封禁的固定时间段或具体时间点，均选优先使用固定时间段")]),t("div",{staticClass:"ban-period"},[t("h-radio-group",{on:{change:function(t){e.banTime=null}},model:{value:e.banPeriodSelected,callback:function(t){e.banPeriodSelected=t},expression:"banPeriodSelected"}},[t("span",[e._v("固定时间段：")]),e._l(e.banPeriodList,(function(e){return t("h-radio",{key:e.period,attrs:{value:e.period,label:e.value}})})),t("h-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.banPeriodSelected=-1}}},[e._v("重置")])],2)],1),t("div",{staticClass:"ban-time"},[t("span",[e._v("具体时间点：")]),t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},on:{change:function(t){e.banPeriodSelected=-1}},model:{value:e.banTime,callback:function(t){e.banTime=t},expression:"banTime"}})],1),0===e.type?t("div",{staticClass:"ban-reason"},[t("span",[e._v("封禁的理由：")]),t("el-autocomplete",{staticClass:"ban-reason__input",attrs:{name:"ban-reason","fetch-suggestions":e.queryReason,placeholder:"请输入封禁理由"},model:{value:e.banReason,callback:function(t){e.banReason=t},expression:"banReason"}})],1):e._e(),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("h-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.display=!1}}},[e._v("取 消")]),t("h-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:e.banUser}},[e._v("确 定")])],1)])],1)},Ta=[],Da=(a("2382"),a("dbbe")),Sa=a("7551"),Pa=a("50fc");const Ia=[{value:"1天",period:864e5},{value:"3天",period:2592e5},{value:"1周",period:6048e5},{value:"1月",period:2592e6},{value:"3月",period:7776e6},{value:"半年",period:15768e6},{value:"1年",period:31536e6},{value:"永久",period:0}],Ea=[{value:"水贴/水评论/广告营销"},{value:"侮辱诽谤，恶意带节奏"},{value:"色情/低俗/性骚扰"},{value:"政治/宗教/反动/暴恐"}],Ha=[Pa["a"].ban,Pa["a"].setBanTime];me["default"].use(_.a),me["default"].use(E.a);var Oa={name:"ban",data(){return{display:!1,banPeriodList:Ia,banReasonList:Ea,banPeriodSelected:-1,banTime:null,banReason:null,isMobile:!1,user:{},type:null}},components:{HButton:Da["a"],HRadio:Sa["a"],HRadioGroup:Sa["b"]},methods:{async banUser(){var e,t;let a,s,n,i=(null===(e=this.user)||void 0===e?void 0:e.uid)||(null===(t=this.user)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.uid);if(-1!==this.banPeriodSelected)s=this.banPeriodSelected,n={uid:i,period:s};else{if(null===this.banTime)return void this.$message({type:"danger",message:"请选择封禁时间~"});a=this.banTime,n={uid:i,time:a}}0==this.type&&(n={...n,reason:this.banReason}),1==this.type&&(n={...n,id:this.user.id}),await Ae["a"].post(`${Ha[this.type]}${i}`,n).then(e=>{switch(e.code){case 0:this.$message({type:"success",message:e.msg}),this.callback(),this.display=!1;break;default:this.$message({type:"danger",message:e.msg})}}).catch(e=>{this.$message({type:"danger",message:e})})},show(e,t,a,s){this.display=!0,this.user=e,this.type=t,this.isMobile=a,this.callback=s},queryReason(e,t){var a=this.banReasonList,s=e?a.filter(this.createFilter(e)):a;t(s)},createFilter(e){return t=>0===t.value.indexOf(e)}}},Ma=Oa,ja=(a("b9fc"),Object(be["a"])(Ma,La,Ta,!1,null,"29917e0f",null)),za=ja.exports;me["default"].use(j.a);const Na=new me["default"]({render(e){return e(za)}});Na.$mount(),document.body.appendChild(Na.$el);const Ba=Na.$children[0],$a=(e,t,a,s)=>{Ba.show(e,t,a,s)};var Fa=function(){var e=this,t=e._self._c;return e.display?t("div",{staticClass:"editor"},[t("div",{staticClass:"close"},[t("span",[e._v("发布帖子")]),t("i",{staticClass:"iconfont bg-close",on:{click:e.close}})]),t("post-editor",{on:{"post-done":e.postDone}})],1):e._e()},Va=[],Ua=a("7363"),Ra={name:"editor",data(){return{display:!1}},components:{PostEditor:Ua["a"]},methods:{close(){this.display=!1},show(){this.display=!0},postDone(){setTimeout(()=>{window.location.reload()},1e3)}}},Ga=Ra,Ya=(a("9e18"),Object(be["a"])(Ga,Fa,Va,!1,null,"04e7783c",null)),Ka=Ya.exports,Wa=a("4360");const Xa=new me["default"]({store:Wa["a"],render(e){return e(Ka)}});Xa.$mount(),document.body.appendChild(Xa.$el);const qa=Xa.$children[0],Ja=()=>{qa.show()};var Za=function(){var e=this,t=e._self._c;return e.display?t("div",{staticClass:"editor"},[t("div",{staticClass:"close"},[t("span",[e._v("发表回复")]),t("i",{staticClass:"iconfont bg-close",on:{click:e.close}})]),t("hanser-editor",{on:{post:e.reply}})],1):e._e()},Qa=[],es=a("b0b1"),ts=a("ed08"),as=a.n(ts),ss={name:"editor",data(){return{postId:0,author:0,display:!1}},components:{HanserEditor:es["a"]},methods:{async reply(e){const{ats:t,pictures:a,videos:s,plaintext:n}=as.a.parseHtml(e),i={postId:this.postId,content:e,author:this.author,ats:t,pictures:a,videos:s,plaintext:n};await Ae["a"].post(Le["a"].replyPost+this.postId,i).then(e=>{0===e.code?(this.$message({type:"success",message:e.msg}),setTimeout(()=>{window.location.reload()},1e3)):this.$message({type:"warning",message:e.msg})})},show(e,t){this.display=!0,this.postId=e,this.author=t},close(){this.display=!1}}},ns=ss,is=(a("169c"),Object(be["a"])(ns,Za,Qa,!1,null,"61668f4c",null)),os=is.exports;const rs=new me["default"]({store:Wa["a"],render(e){return e(os)}});rs.$mount(),document.body.appendChild(rs.$el);const ls=rs.$children[0],cs=(e,t)=>{ls.show(e,t)};var ds=function(){var e=this,t=e._self._c;return t("div",{ref:"notice-wrapper",staticClass:"notice-wrapper",on:{click:e.hide}},[t("div",{ref:"notice",staticClass:"notice",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"close"},[t("span",[e._v("消息")]),t("i",{staticClass:"iconfont bg-close",on:{click:e.hide}})]),t("div",{staticClass:"theme-select"},[t("span",[e._v("主题:")]),t("el-select",{staticStyle:{flex:"1","margin-left":"10px"},attrs:{size:"mini",placeholder:"主题"},on:{change:e.changeTheme},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}},e._l(e.themeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticClass:"content"},[t("div",{staticClass:"sidebar"},[e._m(0),e._m(1),t("ul",{staticClass:"layout-message--menu"},e._l(e.noticeMenu,(function(a){return t("li",{key:a.hash,staticClass:"layout-message--menu--item"},[t("a",{staticClass:"link",attrs:{href:"/notice"+a.hash},on:{click:function(t){return e.clearNotice(a.key,"/notice"+a.hash)}}},[t("span",{staticClass:"notice-menu-item"},[e._v(e._s(a.text))]),e.notice[a.key]?t("div",{staticClass:"badge"},[e._v(e._s(e.noticeNum(e.notice[a.key])))]):e._e()])])})),0),t("div",{staticClass:"divider"}),e._m(2),e._m(3),t("div",{staticClass:"divider"}),t("a",{staticClass:"link",attrs:{href:"/my-follow"}},[t("i",{staticClass:"hanser icon-wodeguanzhu icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("我关注的")]),e.followUnread?t("div",{staticClass:"badge"},[e._v(e._s(e.noticeNum(e.followUnread)))]):e._e()]),e._m(4),t("a",{staticClass:"link",attrs:{href:e.myFavoriteLink}},[t("i",{staticClass:"hanser icon-shoucang icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("我收藏的")])]),t("div",{staticClass:"divider"}),e._m(5),e._m(6),t("div",{staticClass:"divider"}),e._m(7),e._m(8)])])])])},us=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/home"}},[t("i",{staticClass:"hanser icon-gerenzhongxin icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("个人中心")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"layout-message--title"},[t("i",{staticClass:"hanser icon-xinxi1 icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("消息中心")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/score"}},[t("i",{staticClass:"iconfont zhuanjifen icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("积分中心")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/contribution-exchange"}},[t("i",{staticClass:"iconfont gongxian icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("贡献中心")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/my-like"}},[t("i",{staticClass:"hanser icon-dianzan icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("我赞过的")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/hot-recommends"}},[t("i",{staticClass:"hanser icon-remen1 icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("热门推荐")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/"}},[t("i",{staticClass:"hanser icon-quanbutiezi icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("全部帖子")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/to-be-continued"}},[t("i",{staticClass:"hanser icon-huati icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("全部话题")])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"link",attrs:{href:"/to-be-continued"}},[t("i",{staticClass:"hanser icon-quanbuzhuanlan icon"}),t("span",{staticClass:"layout-message--title__text"},[e._v("全部专栏")])])}],ps={name:"notice",data(){return{display:!1,noticeMenu:[{text:"回复我的",hash:"#reply",key:"replies"},{text:"提到我的",hash:"#at",key:"at"},{text:"收到的赞",hash:"#like",key:"likes"},{text:"站务通知",hash:"#notice",key:"notice"},{text:"我的消息",hash:"#chat",key:"message"},{text:"系统设置",hash:"#setting",key:"setting"}],themeList:[{value:"light",label:"正常模式"},{value:"dark",label:"暗夜模式"},{value:"new-year-2022",label:"2022新年主题"},{value:"new-year-2023",label:"2023新年主题"},{value:"new-year-2024",label:"2024新年主题"}]}},computed:{notice:{get(){return Wa["a"].state.notice.notice},set(e){Wa["a"].commit("notice/setNotice",e)}},theme:{get(){return Wa["a"].state.config.theme},set(e){Wa["a"].commit("config/setTheme",e)}},followUnread:{get(){return Wa["a"].state.notice.followUnread}},user:{get(){return Wa["a"].state.users.userInfo}},myFavoriteLink(){return`/space/${this.user.uid}#favorite`}},methods:{show(e){const t=this.$refs["notice-wrapper"];t.style.background="var(--theme-modal-bg-color)",t.style["pointer-events"]="auto";const a=this.$refs.notice;a.style.transform="translateX(100%)",this.notice=e},hide(){const e=this.$refs.notice;e.style.transform="translateX(0)";const t=this.$refs["notice-wrapper"];t.style.background="transparent",t.style["pointer-events"]="none"},noticeNum(e){return e<99?e:"99+"},clearNotice(e){const{notice:t}=this;t[e]=0,this.notice=t},changeTheme(e){const t=new CustomEvent("change-theme",{detail:{theme:e}});window.dispatchEvent(t)}},mounted(){const e=this.$refs.notice,t=e.getElementsByTagName("a");[...t].forEach(e=>{e.onclick=()=>{this.hide()}})}},ms=ps,hs=(a("9361"),Object(be["a"])(ms,ds,us,!1,null,"cd82711a",null)),fs=hs.exports;me["default"].use(Z.a),me["default"].use(q.a);const gs={install(e){const t=e.extend(fs),a=new t;a.$mount(),document.body.append(a.$el),e.prototype.$showNotice=e=>{a.show(e)},e.prototype.$hideNotice=()=>{a.hide()}}};var vs=function(){var e=this,t=e._self._c;return e.display?t("div",{staticClass:"process"},[t("div",{staticClass:"title"},[e._v(e._s(e.title)+"("+e._s(e.value)+"/"+e._s(e.max)+")")])]):e._e()},bs=[],ys={name:"process",data(){return{title:"",value:0,max:0,display:!1}},methods:{show(e){this.display=!0,this.title=e.title,this.value=e.value,this.max=e.max,this.value===this.max&&this.hide()},hide(){this.display=!1,this.title="",this.value=0,this.max=0}}},ks=ys,ws=(a("6156"),Object(be["a"])(ks,vs,bs,!1,null,"e9e10800",null)),xs=ws.exports;const Cs={install(e){const t=e.extend(xs),a=new t;a.$mount(),document.body.append(a.$el),e.prototype.$showProcess=e=>{a.show(e)},e.prototype.$hideProcess=()=>{a.hide()}}};var _s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-download"},[t("el-dialog",{attrs:{title:"APP下载","close-on-click-modal":!1,visible:e.display},on:{"update:visible":function(t){e.display=t}}},[t("div",{staticClass:"download-wrapper"},[t("a",{staticClass:"android",attrs:{href:e.apkLink,target:"_blank"}},[t("img",{staticClass:"android-image",attrs:{src:a("e00f"),width:"36"}}),e._v(" 安卓下载 ")]),t("a",{staticClass:"ios",attrs:{href:e.iosLink,target:"_blank"}},[t("div",{staticClass:"ios-image"}),e._v(" IOS下载 ")])])])],1)},As=[],Ls={name:"app-download",data(){return{display:!1,apkLink:"",iosLink:""}},methods:{show(){this.display=!0}},mounted(){Ae["a"].get(Le["a"].appVersion).then(e=>{0===e.code&&(this.apkLink=e.android,this.iosLink=e.ios)})}},Ts=Ls,Ds=(a("8685"),Object(be["a"])(Ts,_s,As,!1,null,"1361c8e8",null)),Ss=Ds.exports;me["default"].use(j.a);const Ps=new me["default"]({render(e){return e(Ss)}});Ps.$mount(),document.body.appendChild(Ps.$el);const Is=Ps.$children[0],Es=()=>{Is.show()};var Hs=function(){var e=this,t=e._self._c;return e.display?t("div",{staticClass:"edit"},[t("div",{staticClass:"close"},[t("span",[e._v("编辑帖子")]),t("i",{staticClass:"iconfont bg-close",on:{click:e.close}})]),t("post-editor",{attrs:{postTitle:e.title,postContent:e.content,postId:e.postId},on:{"post-done":e.postDone}})],1):e._e()},Os=[],Ms={name:"edit",data(){return{display:!1,title:"",content:"",postId:0}},components:{PostEditor:Ua["a"]},methods:{close(){this.display=!1},async show(e,t,a){this.display=!0,await this.$nextTick(),this.title=e,this.content=t,this.postId=a},postDone(){setTimeout(()=>{window.location.reload()},1e3)}}},js=Ms,zs=(a("8fe5"),Object(be["a"])(js,Hs,Os,!1,null,"04bfe6e3",null)),Ns=zs.exports;me["default"].use(j.a);const Bs=new me["default"]({store:Wa["a"],render(e){return e(Ns)}});Bs.$mount(),document.body.appendChild(Bs.$el);const $s=Bs.$children[0],Fs=(e,t,a)=>{$s.show(e,t,a)};var Vs=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"search"},[t("div",{staticClass:"search-wrapper"},[t("div",{staticClass:"close"},[t("span",[e._v("全站搜索")]),t("i",{staticClass:"iconfont bg-close",on:{click:e.hide}})]),t("div",{staticClass:"keyword-wrapper"},[t("h-input",{staticClass:"search-input",attrs:{placeholder:"搜索用户名,用户UID,帖子标题"},on:{"enter-press":e.search},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("h-button",{attrs:{size:"mini"},on:{click:e.search}},[t("i",{staticClass:"hanser icon-sousuo1"})])],1),t("div",{staticClass:"result-wrapper"},[t("div",{staticClass:"label",on:{click:e.toggleUser}},[e.userExpand?t("i",{staticClass:"el-icon-caret-bottom"}):e._e(),e.userExpand?e._e():t("i",{staticClass:"el-icon-caret-right"}),e._v("用户 ")]),e.users.length?t("div",{staticClass:"search-user"},[e.userExpand?t("ul",{staticClass:"users"},e._l(e.users,(function(a){return t("li",{key:a.uid,staticClass:"user-wrapper"},[t("post-user",{attrs:{avatar:a.avatar,size:50,nickname:a.nickname,uid:a.uid,auth:a.auth,colors:e.level(a.exp).color,level:e.level(a.exp),authentication:a.authentication}})],1)})),0):e._e()]):e._e(),t("div",{staticClass:"label",on:{click:e.togglePost}},[e.postExpand?t("i",{staticClass:"el-icon-caret-bottom"}):e._e(),e.postExpand?e._e():t("i",{staticClass:"el-icon-caret-right"}),e._v("帖子 ")]),e.posts.length?t("div",{staticClass:"search-post"},[e.postExpand?t("ul",{staticClass:"posts"},e._l(e.posts,(function(a){return t("li",{key:a.id,staticClass:"post"},[t("a",{staticClass:"post-title",attrs:{href:"/post/"+a.id,target:"_blank"}},[e._v(e._s(a.title))]),t("div",{staticClass:"info"},[t("post-user",{attrs:{avatar:a.author.avatar,size:50,nickname:a.author.nickname,uid:a.author.uid,auth:a.author.auth,colors:e.level(a.author.exp).color,level:e.level(a.author.exp),authentication:a.author.authentication}},[t("template",{slot:"bottom"},[t("div",{staticClass:"time"},[e._v(e._s(e.formatPostTime(a.postTime)))])])],2)],1)])})),0):e._e(),e.postExpand?t("load-more",{attrs:{name:"search-post",haveMore:e.postsLoadDone},on:{"load-more":e.loadPosts}}):e._e()],1):e._e()])])]):e._e()},Us=[],Rs=(a("14d9"),a("6275")),Gs=a("9579"),Ys=a("e100"),Ks=a("4445"),Ws={name:"search",data(){return{keyword:"",visible:!1,users:[],posts:[],userExpand:!0,postExpand:!0,postsLoadDone:!0,lastPostId:0}},components:{HButton:Da["a"],HInput:Rs["a"],LoadMore:Ks["a"],PostUser:Gs["a"]},computed:{levels(){return Wa["a"].state.level.levels}},methods:{formatPostTime:Ys["a"],level(e){let t=this.levels[0];return this.levels.forEach(a=>{a.exp<=e&&a.level>t.level&&(t=a)}),t},show(e){this.keyword=e.keyword,this.userExpand=!0,this.postExpand=!0,this.visible=!0,this.keyword&&this.search()},hide(){this.keyword="",this.lastPostId=0,this.postsLoadDone=!0,this.users=[],this.posts=[],this.visible=!1},search(){this.keyword&&(this.users=[],this.posts=[],this.lastPostId=0,this.postsLoadDone=!1,Ae["a"].get(Le["a"].searchUser,{params:{keyword:this.keyword}}).then(e=>{this.users=e.list}),Ae["a"].get(Le["a"].postSearch,{params:{keyword:this.keyword,id:this.lastPostId}}).then(e=>{this.posts.push(...e.list),this.postsLoadDone=e.finish,this.lastPostId=e.searchId}))},toggleUser(){this.userExpand=!this.userExpand},togglePost(){this.postExpand=!this.postExpand},loadPosts(){Ae["a"].get(Le["a"].postSearch,{params:{keyword:this.keyword,id:this.lastPostId}}).then(e=>{this.posts.push(...e.list),this.postsLoadDone=!e.finish,this.lastPostId=e.searchId,e.finish||e.list.length||this.loadPosts()})}}},Xs=Ws,qs=(a("acd3"),Object(be["a"])(Xs,Vs,Us,!1,null,"2e647a22",null)),Js=qs.exports;const Zs=new me["default"]({store:Wa["a"],render(e){return e(Js)}});Zs.$mount(),document.body.appendChild(Zs.$el);const Qs=Zs.$children[0],en=e=>{Qs.show(e)};var tn=function(){var e=this,t=e._self._c;return e.display?t("div",{staticClass:"edit"},[t("div",{staticClass:"close"},[t("span",[e._v(e._s(e.title))]),t("i",{staticClass:"iconfont bg-close",on:{click:e.close}})]),t("hanser-editor",{attrs:{useAt:!0},on:{post:e.post}})],1):e._e()},an=[],sn=a("3618"),nn={name:"edit",data(){return{display:!0}},props:{title:{type:String,default:""},resolve:{type:Function,default:()=>{}}},components:{HanserEditor:sn["a"]},methods:{close(){this.display=!1},async show(){this.display=!0},post(e){this.close(),this.resolve(e)}}},on=nn,rn=(a("ff89"),Object(be["a"])(on,tn,an,!1,null,"79fc3c1c",null)),ln=rn.exports;const cn=me["default"].extend(ln),dn=e=>new Promise(t=>{const a=new cn({store:Wa["a"],propsData:{title:e,resolve:t}});document.body.appendChild(a.$mount().$el)});var un=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"report"},[t("div",{staticClass:"report-wrapper"},[t("div",{staticClass:"close"},[t("span",[e._v("举报")]),t("i",{staticClass:"iconfont bg-close",on:{click:e.close}})]),t("div",{staticClass:"content"},[t("span",[e._v("举报理由：")]),t("h-radio-group",{model:{value:e.reportId,callback:function(t){e.reportId=t},expression:"reportId"}},e._l(e.reportList,(function(e){return t("h-radio",{key:e.id,attrs:{value:e.id,label:e.text}})})),1),4===e.reportId?t("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入内容"},model:{value:e.reportText,callback:function(t){e.reportText=t},expression:"reportText"}}):e._e()],1),t("div",{staticClass:"footer"},[t("h-button",{on:{click:e.report}},[e._v("提交")])],1)])]):e._e()},pn=[],mn=(a("fffc"),{name:"editor",data(){return{visible:!0,reportList:[{id:1,text:"水贴/水评论/广告营销"},{id:2,text:"侮辱诽谤，恶意带节奏"},{id:3,text:"色情/低俗/性骚扰"},{id:4,text:"其他(手动输入)"}],reportId:"",reportText:""}},props:{resolve:{type:Function,default:()=>{}},reject:{type:Function,default:()=>{}}},components:{HButton:Da["a"],HRadio:Sa["a"],HRadioGroup:Sa["b"]},computed:{...Object(_e["d"])({user:e=>e.users.userInfo})},methods:{report(){if(this.user.uid)if(this.reportId)if(4!==this.reportId){this.visible=!1;const e=this.reportList.find(e=>e.id===this.reportId);this.resolve(e.text)}else{if(!this.reportText)return void this.$message({type:"warning",message:"请输入举报理由"});this.visible=!1,this.resolve(this.reportText)}else this.$message({type:"warning",message:"请选择举报理由"});else this.$message({type:"warning",message:"请登录后重试"})},close(){this.visible=!1,this.resolve(!1)}}}),hn=mn,fn=(a("2dfe"),Object(be["a"])(hn,un,pn,!1,null,"1685bc47",null)),gn=fn.exports;const vn=me["default"].extend(gn),bn=()=>new Promise((e,t)=>{const a=new vn({store:Wa["a"],propsData:{resolve:e,reject:t}});document.body.appendChild(a.$mount().$el)});var yn=a("bc3a"),kn=a.n(yn);let wn=!1;kn.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),kn.a.interceptors.response.use((function(e){if(0!=e.data.code){var t;if(wn)return Promise.reject("");window.$vm.$message({type:"warning",message:(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.msg)||""})}return e}),(function(e){if(e.response){if(wn)return Promise.reject(e);wn=!0,window.localStorage.removeItem("token"),setTimeout(()=>{window.location.href=window.location.origin+"/login",wn=!1},1e3)}return Promise.reject(e)}));var xn=kn.a,Cn=a("5a0c");me["default"].config.productionTip=!1,me["default"].prototype.$axios=xn,me["default"].prototype.$alert=pe.a.alert,me["default"].prototype.$confirm=pe.a.confirm,me["default"].prototype.$msgbox=pe.a,me["default"].prototype.$prompt=pe.a.prompt,me["default"].prototype.$showBanDialog=$a,me["default"].prototype.$showEditDialog=Fs,me["default"].prototype.$showSearchDialog=en,me["default"].prototype.$showContentEditor=dn,me["default"].prototype.$showReportDialog=bn,me["default"].prototype.$showEditor=Ja,me["default"].prototype.$showPostEditor=cs,me["default"].prototype.$showAppDownloadDialog=Es,me["default"].use(Aa["a"]),me["default"].use(gs),me["default"].use(Cs),me["default"].use(de.a),me["default"].use(le.a),me["default"].use(oe.a),me["default"].use(ne.a),me["default"].use(ae.a),me["default"].use(ee.a),me["default"].use(Z.a),me["default"].use(q.a),me["default"].use(W.a),me["default"].use(Y.a),me["default"].use(R.a),me["default"].use(V.a),me["default"].use($.a),me["default"].use(N.a),me["default"].use(j.a),me["default"].use(O.a),me["default"].use(E.a),me["default"].use(P.a),me["default"].use(D.a),me["default"].use(L.a),me["default"].use(_.a),me["default"].use(x.a),me["default"].use(k.a),me["default"].use(b.a),me["default"].use(g.a),me["default"].use(h.a),me["default"].use(p.a),me["default"].use(d.a),me["default"].use(l.a),me["default"].use(o.a),me["default"].use(n.a),me["default"].use(Me.a),me["default"].use(ze.a),me["default"].use(_a.a),me["default"].component("icon",xa),a("a471"),Cn["locale"]("zh-cn");const _n={menus:[ut,Wt,Qt],renderElems:[Xe.renderElems,it.renderElems,da.renderElems,wt.renderElems,It.renderElems,Ut.renderElems],parseElemsHtml:[Xe.parseHtmlConfig,it.parseHtmlConfig,da.parseHtmlConfig,wt.parseHtmlConfig,It.parseHtmlConfig,Ut.parseHtmlConfig],elemsToHtml:[Xe.elemToHtmlConfig,it.elemToHtmlConfig,da.elemToHtmlConfig,wt.elemToHtmlConfig,It.elemToHtmlConfig,Ut.elemToHtmlConfig],editorPlugin:ga};Ne["Boot"].registerModule(_n),He.beforeEach(async(e,t,a)=>{const s=!("level"in Wa["a"].state.level.levelInfo&&Wa["a"].state.level.levels.length);let n=!Wa["a"].state.users.userInfo.uid;if(e.meta.level&&s){const e=await Ae["a"].get(Le["a"].getLevelList);0===e.code&&await Wa["a"].commit("level/setLevels",e.list)}if(n){const[e]=await Promise.all([Ae["a"].get(Le["a"].userInfo),Wa["a"].dispatch("score/updateScore"),Wa["a"].dispatch("guess/updateGuessCoin")]);0===e.code&&await Wa["a"].commit("users/changeUserInfo",e.info)}if(n=!Wa["a"].state.users.userInfo.uid,e.meta.userInfo||e.meta.login){if(e.meta.login&&n)return a({path:"/"}),void window.$vm.$message({type:"warning",message:"请先登录"});if(s){const e=await Ae["a"].get(Le["a"].levelInfo);0===e.code&&await Promise.all([Wa["a"].commit("level/setLevelInfo",e.levelInfo),Wa["a"].commit("level/setNextLevelInfo",e.nextLevel)])}e.meta.admin&&(Wa["a"].getters["users/isAdmin"]||a("/"));const t=[],i=!!Wa["a"].state.users.userInfo.uid;t.includes(e.name)&&i?a("/"):a()}else a()}),He.afterEach(e=>{const t=document.getElementById("upload-img");if(!t){const e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.id="upload-img",e.style.display="none",document.body.appendChild(e)}const a=document.getElementById("upload-video");if(!a){const e=document.createElement("input");e.type="file",e.accept=".mp4, .mkv, .avi, .mov, .wmv, .flv",e.multiple=!1,e.id="upload-video",e.style.display="none",document.body.appendChild(e)}if(["/my-follow","/my-like","/hot-recommends"].includes(e.path)){const e=document.getElementsByClassName("layout-body")[0];e&&(e.scrollTop=0)}else document.body.scrollTop=0,document.documentElement.scrollTop=0}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),window.$vm=new me["default"]({router:He,store:Wa["a"],render:e=>e(ke)}).$mount("#app")},"58c8":function(e,t,a){"use strict";a("3e39")},6156:function(e,t,a){"use strict";a("138f")},"68ee":function(e,t,a){"use strict";a("2d73")},"69c0":function(e,t,a){},7363:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"post-editor"},[t("h-input",{staticClass:"post-title-input",attrs:{maxlength:30,placeholder:"这里输入标题~"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),t("hanser-editor",{ref:"editor",staticClass:"post-editor",attrs:{cammandList:e.cammandList,text:e.postText,limit:e.wordsLimit,"use-at":!0},on:{post:e.post},scopedSlots:e._u([{key:"addition",fn:function(){return[t("div",{staticClass:"post-attr"},[e.isEdit?e._e():t("el-popover",{attrs:{placement:"top",trigger:"click"}},[t("el-date-picker",{staticClass:"time",attrs:{"popper-class":"time-popover","value-format":"yyyy-MM-dd HH:mm:ss",size:"small",type:"datetime",placeholder:"选择日期时间"},model:{value:e.params.time,callback:function(t){e.$set(e.params,"time",t)},expression:"params.time"}}),t("div",{attrs:{slot:"reference"},slot:"reference"},[e.params.lockTime?t("div",{staticClass:"post-attr-item"},[e._v(" "+e._s(e.params.time)+" ")]):t("div",{staticClass:"post-attr-item"},[t("i",{staticClass:"iconfont Appointment"}),t("span",{staticClass:"post-attr-item-text"},[e._v("定时发布")])])])],1),e.isEdit?e._e():t("el-popover",{attrs:{placement:"top",trigger:"manual"},model:{value:e.showTags,callback:function(t){e.showTags=t},expression:"showTags"}},[t("div",{staticClass:"tags"},e._l(e.tagList,(function(a){return t("div",{key:a.id,staticClass:"tag",class:{"tag-selected":e.tagIds.includes(a.id)},on:{click:function(t){return e.setTag(a)}}},[t("div",{staticClass:"tag-icon"},[t("i",{staticClass:"hanser icon-quanbuhuati"})]),t("div",{staticClass:"tag-info"},[t("div",{staticClass:"tag-name"},[e._v(e._s(a.name))]),t("div",{staticClass:"tag-intro"},[e._v(e._s(a.description))])])])})),0),t("div",{attrs:{slot:"reference"},slot:"reference"},[e.params.tags.length?t("div",{staticClass:"post-attr-item",on:{click:e.getTagList}},[t("i",{staticClass:"hanser icon-quanbuhuati"}),e._l(e.params.tags,(function(a){return t("div",{key:a.id,staticClass:"selected-tag"},[e._v(" "+e._s(a.name)+" ")])}))],2):t("div",{staticClass:"post-attr-item",on:{click:e.getTagList}},[t("i",{staticClass:"hanser icon-quanbuhuati"}),t("span",{staticClass:"post-attr-item-text"},[e._v("话题")])])])]),t("div",{staticClass:"post-attr-item"},[t("el-popover",{attrs:{placement:"top",trigger:"click"}},[t("div",{staticClass:"draft-wrapper"},[t("h-button",{on:{click:e.getCloudDraftList}},[t("i",{staticClass:"el-icon-cloudy"}),e._v(" 云端草稿")]),t("h-button",{on:{click:e.getLocalDraft}},[t("i",{staticClass:"el-icon-monitor"}),e._v(" 本地草稿")])],1),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"hanser icon-fatie"}),t("span",{staticClass:"post-attr-item-text"},[e._v("草稿")])])]),e._v(" ｜ "),t("div",[t("span",{on:{click:e.saveDraft}},[t("i",{staticClass:"iconfont baocun"}),e._v(" "),t("span",[e._v("保存")])])]),e._v(" ｜ "),t("el-popover",{attrs:{placement:"right",trigger:"click"}},[t("h-radio-group",{attrs:{column:!0},model:{value:e.draftParam.type,callback:function(t){e.$set(e.draftParam,"type",t)},expression:"draftParam.type"}},[t("h-radio",{attrs:{value:e.DRAFT_CLOUD,label:"云端"}}),t("h-radio",{attrs:{value:e.DRAFT_LOCAL,label:"本地"}})],1),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("span",[t("span",[e._v(e._s(e.draftType))]),e._v(" "),t("i",{staticClass:"el-icon-caret-right"})])])],1)],1),e.isEdit?e._e():t("div",{staticClass:"post-attr-item"},[t("vote",{attrs:{voteData:e.voteData,updateVoteData:e.updateVoteData}})],1)],1)]},proxy:!0}]),model:{value:e.html,callback:function(t){e.html=t},expression:"html"}}),t("el-dialog",{attrs:{title:"云端草稿",visible:e.showCloudDraft,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showCloudDraft=t}}},[t("div",{staticClass:"dialog-body"},[e.cloudDraftList.length?t("div",{staticClass:"drafts"},e._l(e.cloudDraftList,(function(a){return t("el-card",{key:a.id,staticClass:"draft"},[t("div",{staticClass:"draft-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(a.time))]),t("div",{staticClass:"draft-operations"},[t("i",{staticClass:"hanser icon-chakan",on:{click:function(t){return e.openDraftPreview(a)}}}),t("i",{staticClass:"hanser icon-fatie",on:{click:function(t){return e.applyDraft(a)}}}),t("i",{staticClass:"iconfont shanchu danger",on:{click:function(t){return e.deleteCloudDraft(a)}}})])]),t("div",{staticClass:"title"},[t("span",[e._v("标题：")]),e._v(e._s(a.title))])])})),1):t("el-empty",{attrs:{"image-size":200}})],1)]),t("el-dialog",{attrs:{title:"本地草稿",visible:e.showLocalDraft,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showLocalDraft=t}}},[t("div",{staticClass:"dialog-body"},[e.localDraftList.length?t("div",{staticClass:"drafts"},e._l(e.localDraftList,(function(a){return t("el-card",{key:a.id,staticClass:"draft"},[t("div",{staticClass:"draft-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(a.time))]),t("div",{staticClass:"draft-operations"},[t("i",{staticClass:"hanser icon-chakan",on:{click:function(t){return e.openDraftPreview(a)}}}),t("i",{staticClass:"hanser icon-fatie",on:{click:function(t){return e.applyDraft(a)}}}),t("i",{staticClass:"iconfont shanchu danger",on:{click:function(t){return e.deleteLocalDraft(a)}}})])]),t("div",{staticClass:"title"},[t("span",[e._v("标题：")]),e._v(e._s(a.title))])])})),1):t("el-empty",{attrs:{"image-size":200}})],1)]),t("el-dialog",{attrs:{title:"预览",visible:e.showDraftPreview,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.showDraftPreview=t}}},[t("div",{staticClass:"dialog-body"},[t("div",{staticClass:"draft-title"},[e._v(e._s(e.previewDraft.title))]),t("div",{staticClass:"divider"}),t("div",{staticClass:"post-content"},[t("div",{staticClass:"draft-render",domProps:{innerHTML:e._s(e.previewDraft.content)}})])])])],1)},n=[],i=(a("14d9"),a("0643"),a("2382"),a("a573"),a("2f62")),o=a("ed08"),r=a.n(o),l=a("db04"),c=a("365c"),d={saveAsDraft:"/draft/save-as-draft",updateDraft:"/draft/update-draft",myDraft:"/draft/my-draft",deleteDraft:"/draft/delete-draft"},u=a("00b6"),p=a("b0b1"),m=a("dbbe"),h=a("7551"),f=a("6275"),g=function(){var e=this,t=e._self._c;return t("popper",{ref:"popper",attrs:{trigger:"clickToToggle",options:e.popperOptions,"append-to-body":!0}},[t("div",{staticClass:"popper"},[t("vote-form",{ref:"voteForm",attrs:{form:e.form}}),t("div",{staticClass:"dialog-footer"},[Object.keys(this.voteData).length>0?t("h-button",{attrs:{type:"message",size:"small"},on:{click:e.deleteVote}},[e._v("删除")]):e._e(),t("h-button",{attrs:{type:"primary",size:"small"},on:{click:e.onConfirm}},[e._v("确定")])],1)],1),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"fa-solid fa-square-poll-vertical",attrs:{slot:"reference",title:"投票"},slot:"reference"}),e._v(" 投票")])])},v=[],b=(a("9a9a"),a("5a0c")),y=a.n(b),k=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",staticClass:"vote-form-container",attrs:{model:e.form,"label-width":"80px","label-position":e.isMobile?"top":"right",rules:e.formRules}},[t("el-form-item",{staticClass:"title-form-item",attrs:{label:"投票标题",prop:"title"}},[t("h-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入投票标题",size:"small",maxlength:"15"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),t("el-form-item",{attrs:{label:"投票形式",prop:"type"}},[t("h-radio-group",{staticStyle:{"margin-right":"20px"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[t("h-radio",{attrs:{label:"文字",value:0}}),t("h-radio",{attrs:{label:"图片",value:1}})],1)],1),t("el-form-item",{attrs:{label:"投票选项"}},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"1"}},[e._v("最多支持20个选项，每项不超过15字")]),t("h-button",{attrs:{type:"primary",size:"small",disabled:e.form.options.length>=20},on:{click:function(t){return t.preventDefault(),e.addOption.apply(null,arguments)}}},[e._v("添加选项 ")])],1)]),0===e.form.type?t("div",{staticClass:"text-mode"},e._l(e.form.options,(function(a,s){return t("div",{key:s,staticClass:"text-mode-item"},[t("el-form-item",{attrs:{label:"选项"+(s+1),prop:"options."+s+".text",rules:[{required:!0,message:"选项"+(s+1)+"不能为空",trigger:"blur"},{max:15,message:"选项"+(s+1)+"的长度不能超过15个字符",trigger:"blur"}]}},[t("div",{staticClass:"option-item"},[t("h-input",{staticClass:"option-input",attrs:{maxlength:"15",placeholder:"请输入选项",size:"small"},model:{value:a.text,callback:function(t){e.$set(a,"text",t)},expression:"option.text"}}),t("h-button",{staticClass:"remove-option-btn",attrs:{type:"danger",size:"small",disabled:e.form.options.length<3},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeOption(s)}}},[e._v("删除 ")])],1)])],1)})),0):t("div",{staticClass:"pic-mode"},[t("div",{staticClass:"option-list"},[e._l(e.form.options,(function(a,s){return t("div",{key:s,staticClass:"option-item"},[t("div",{staticClass:"image-upload"},[a.thumbnail?t("img",{staticClass:"option-image",attrs:{src:a.thumbnail,alt:"option-pics"},on:{click:function(t){return e.triggerUpload(s)}}}):t("div",{staticClass:"upload-list-uploader upload-list-item",on:{click:function(t){return e.triggerUpload(s)}}},[t("i",{staticClass:"fa-solid fa-plus"})]),e.form.options.length>=3?t("button",{staticClass:"close-btn",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.removeOption(s)}}},[t("i",{staticClass:"fa-solid fa-times"})]):e._e()]),t("el-form-item",{attrs:{"label-width":"0px",prop:"options."+s+".text",rules:[{required:!0,message:"选项"+(s+1)+"不能为空",trigger:"blur"},{max:15,message:"选项"+(s+1)+"的长度不能超过15个字符",trigger:"blur"}]}},[t("h-input",{staticClass:"option-input",attrs:{maxlength:"15",placeholder:"请输入选项",size:"small"},model:{value:a.text,callback:function(t){e.$set(a,"text",t)},expression:"option.text"}})],1)],1)})),t("input",{ref:"uploaderInputRef",staticClass:"uploader-input",attrs:{type:"file",accept:e.accept},on:{change:e.handleImageUpload}})],2)]),t("el-form-item",{attrs:{label:"投票类型",prop:"checkType"}},[t("div",{staticClass:"checkType-container"},[t("h-radio-group",{model:{value:e.form.checkType,callback:function(t){e.$set(e.form,"checkType",t)},expression:"form.checkType"}},[t("h-radio",{attrs:{label:"单选",value:0}}),t("h-radio",{attrs:{label:"多选",value:1}}),1===e.form.checkType?t("div",{staticClass:"checkType-multiple"},[t("div",{staticStyle:{"margin-right":"4px"}},[e._v("最多")]),t("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"最多选择项","popper-class":"vote-max-option-container"},model:{value:e.form.max,callback:function(t){e.$set(e.form,"max",t)},expression:"form.max"}},e._l(Array.from({length:this.form.options.length-1}).map((e,t)=>t+2),(function(e){return t("el-option",{key:e,attrs:{label:e+"项",value:e}})})),1)],1):e._e()],1)],1)]),t("el-form-item",{attrs:{label:"截止时间",prop:"endTime"}},[t("el-date-picker",{attrs:{"picker-options":e.pickerOptions,"popper-class":"vote-time-select-container",type:"datetime",placeholder:"选择截止时间","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),t("el-form-item",{staticClass:"privacy-form-item",attrs:{label:"投票对象",prop:"privacy"}},[t("h-radio-group",{model:{value:e.form.privacy,callback:function(t){e.$set(e.form,"privacy",t)},expression:"form.privacy"}},[t("h-radio",{attrs:{label:"公开投票人",value:0}}),t("h-radio",{attrs:{label:"隐藏投票人",value:1}})],1)],1)],1)},w=[],x=(a("d9e2"),a("3786")),C=a("0e5c"),_={name:"VoteForm",components:{HRadio:h["a"],HInput:f["a"],HRadioGroup:h["b"],HButton:m["a"]},props:{accept:{type:String,default:"image/*"},form:{type:Object,require:!0}},computed:{...Object(i["d"])({user:e=>e.users.userInfo,isMobile:e=>e.media.isMobile}),pickerOptions(){let e="00:00:00";const t=y()(),a=t.startOf("day");this.form.endTime&&y()(this.form.endTime).startOf("day").isSame(a)&&(e=t.format("HH:mm:ss"));const s=e+" - 23:59:59";return{disabledDate(e){const t=y()(e),s=y()().add(1,"year");return t.isBefore(a)||t.isAfter(s)},shortcuts:[{text:"一天",onClick(e){const t=y()().add(1,"day");e.$emit("pick",t.toDate())}},{text:"一周",onClick(e){const t=y()().add(7,"day");e.$emit("pick",t.toDate())}},{text:"一个月",onClick(e){const t=y()().add(30,"day");e.$emit("pick",t.toDate())}}],selectableRange:s}}},data(){return{formRules:{title:[{required:!0,message:"请输入投票标题",trigger:"blur"},{max:15,message:"投票标题的长度不能超过15个字符",trigger:"blur"}],type:[{required:!0,message:"请选择投票形式",trigger:"change"}],checkType:[{required:!0,message:"请选择投票类型",trigger:"change"}],maxOptions:[{required:!0,message:"请选择最多选择项数",trigger:"change"}],endTime:[{required:!0,message:"请选择截止时间",trigger:"change"},{validator:(e,t,a)=>{const s=(new Date).getTime(),n=new Date(t).getTime();n<s?a(new Error("截止时间不能早于当前时间")):a()},trigger:"change"}],privacy:[{required:!0,message:"请选择投票对象",trigger:"change"}]}}},methods:{addOption(){this.form.options.push({text:""})},removeOption(e){this.form.options.splice(e,1)},triggerUpload(e){this.optionIndex=e,this.$refs.uploaderInputRef.click()},validate(){return new Promise((e,t)=>{this.$refs["form"].validate(a=>{a?e(!0):t(!1)})})},async handleImageUpload(e){const t=await l["a"].get(x["a"].upload),{auth:a,token:s}=t,n=20971520,i=e.target.files[0];if(i.size>n)this.$message({type:"warning",message:"单文件尺寸限制为20M"});else try{const e=await C["a"].uploadSingleFile(i,s,this.user.uid,a,(e,t)=>{this.$showProcess({title:"图片上传中...",value:e,max:t})},!1);if(0===e.code){const{filename:t,thumbnail:a}=e;this.$set(this.form.options[this.optionIndex],"image",t),this.$set(this.form.options[this.optionIndex],"thumbnail",a)}}catch(o){console.log(o)}}}},A=_,L=(a("a4f1"),a("eeb3"),a("2877")),T=Object(L["a"])(A,k,w,!1,null,"338b0e0c",null),D=T.exports,S=a("526e"),P=a.n(S),I={name:"vote",components:{VoteForm:D,HButton:m["a"],popper:P.a},props:{voteData:{type:Object,require:!0},updateVoteData:{type:Function,require:!0}},computed:{...Object(i["d"])({isMobile:e=>e.media.isMobile}),popperOptions:function(){return this.isMobile?{placement:"bottom"}:{placement:"bottom",modifiers:{preventOverflow:{escapeWithReference:!0}}}}},data(){const e=y()().add(7,"day").format("YYYY-MM-DD HH:mm:ss");return{optionIndex:0,form:{title:"",options:[{text:""},{text:""}],type:0,checkType:0,endTime:e,privacy:0,max:2}}},methods:{showPopover(){this.$refs.popper.showPopper=!0},hidePopover(){this.$refs.popper.showPopper=!1},deleteVote(){this.$confirm("确定删除该投票吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",zIndex:1e4}).then(()=>{this.updateVoteData({}),this.resetForm(),this.hidePopover(),this.$message({type:"success",message:"删除投票成功~"})})},resetForm(){this.form={title:"",options:[{text:""},{text:""}],type:0,checkType:0,endTime:y()().add(7,"day").format("YYYY-MM-DD HH:mm:ss"),privacy:0,max:2}},async onConfirm(){try{const e=await this.$refs["voteForm"].validate();if(1===this.form.type&&this.form.options.some(e=>!e.image))return void this.$message({type:"warning",message:"请添加图片",zIndex:1e4});if(e){const e=0===this.form.type?{...this.form,options:this.form.options.map(e=>({text:e.text}))}:{...this.form,options:this.form.options.map(e=>({text:e.text,image:e.image}))};this.updateVoteData(e),this.$message({type:"success",message:"保存投票成功~",zIndex:1e4}),this.hidePopover()}else console.log("error submit")}catch(e){console.error("error",e)}}}},E=I,H=(a("58c8"),Object(L["a"])(E,g,v,!1,null,"a0544dee",null)),O=H.exports;const M="LOCAL_DRAFT",j=1,z=2,N={[j]:"云端",[z]:"本地"};var B={name:"post-editor",data(){return{title:"",params:{lockTime:0,time:"",tags:[],vote:0},postText:"发布帖子",wordsLimit:1e4,tagList:[],showTags:!1,showCloudDraft:!1,showLocalDraft:!1,cloudDraftList:[],localDraftList:[],draftParam:{type:"",id:0},DRAFT_CLOUD:j,DRAFT_LOCAL:z,html:"",showDraftPreview:!1,previewDraft:{title:"",content:""},voteData:{}}},props:{postTitle:{type:String,default:""},postContent:{type:String,default:""},postId:{type:Number,default:0}},components:{HButton:m["a"],HRadio:h["a"],HRadioGroup:h["b"],HInput:f["a"],HanserEditor:p["a"],Vote:O},computed:{...Object(i["d"])({user:e=>e.users.userInfo}),tagIds(){return this.params.tags.map(e=>e.id)},draftType(){return this.draftParam.type?N[this.draftParam.type]:"选择"},cammandList(){const{uid:e,avatar:t,nickname:a}=this.user;return r.a.isTimestampBirthday(this.user.birthday)?[{id:1,cammand:"生日",data:{uid:e,avatar:t,nickname:a}},{id:2,cammand:"签到天数",data:{uid:e,avatar:t,nickname:a}},{id:3,cammand:"上报BUG"},{id:4,cammand:"用户反馈"}]:[{id:2,cammand:"签到天数",data:{uid:e,avatar:t,nickname:a}},{id:3,cammand:"上报BUG"},{id:4,cammand:"用户反馈"}]},isEdit(){return!!this.postId}},methods:{...Object(i["c"])({addUserExp:"users/addUserExp"}),updateVoteData(e){this.voteData=e},async post(){if(!this.user.uid)return void this.$message({type:"warning",message:"请登录后重试"});if(!this.title||!this.html)return void this.$message({type:"warning",message:"标题或内容不能为空"});const e={...this.params,title:this.title,content:this.html,pictures:[],ats:[],videos:[],plaintext:""};this.params.lockTime&&this.params.time&&(e.lockTime=this.params.lockTime,e.time=this.params.time);const{ats:t,pictures:a,videos:s,plaintext:n,type:i}=r.a.parseHtml(this.html,this.params.tags);if(Object.assign(e,{ats:t,pictures:a,videos:s,plaintext:n,type:i}),Object.keys(this.voteData).length>0){const t=await l["a"].post(u["a"].create,this.voteData);if(0!==t.code)return this.$message({type:"warning",message:"创建投票失败 "+t.msg}),void(this.postLoading=!1);e.vote=t.id}if(this.postId){const t={title:this.title,content:this.html,plaintext:e.plaintext,pictures:e.pictures,ats:e.ats,videos:e.videos,tags:e.tags};l["a"].post(`${c["a"].editPost}${this.postId}`,t).then(e=>{0===e.code?(this.$message({type:"success",message:e.msg}),this.$emit("post-done")):this.$message({type:"warning",message:e.msg})})}else{const t=await l["a"].post(c["a"].hansering,e);0===t.code?(this.$message({type:"success",message:t.msg}),this.$refs["editor"].clear(),this.title="",this.params={lockTime:0,time:"",tags:[],vote:0},this.$emit("post-done")):this.$message({type:"warning",message:t.msg})}},getTagList(){this.tagList.length?this.showTags=!this.showTags:l["a"].get(c["a"].tagList).then(e=>{0===e.code?(this.tagList=e.result,this.showTags=!0):this.$message({type:"warning",message:e.msg})})},setTag(e){this.tagIds.includes(e.id)?this.params.tags=this.params.tags.filter(t=>t.id!==e.id):this.params.tags.push(e)},getCloudDraftList(){l["a"].get(d.myDraft).then(e=>{0===e.code&&(this.cloudDraftList=e.list,this.showCloudDraft=!0)})},getLocalDraft(){const e=window.localStorage.getItem(M);if(e)try{const t=JSON.parse(e);this.localDraftList=[{id:0,title:t.title,content:t.content,time:t.time}],this.showLocalDraft=!0}catch(t){this.$alert("本地草稿已损坏！"),window.localStorage.removeItem(M)}else this.localDraftList=[],this.showLocalDraft=!0},saveDraft(){this.draftParam.type===this.DRAFT_LOCAL?(window.localStorage.setItem(M,JSON.stringify({title:this.title,content:this.html,time:r.a.dateFormat("YYYY-mm-dd HH:MM:SS",new Date)})),this.$message({type:"success",message:"保存成功"})):this.draftParam.type===this.DRAFT_CLOUD?this.draftParam.id?l["a"].post(d.updateDraft,{id:this.draftParam.id,title:this.title,content:this.html}).then(e=>{0===e.code?this.$message({type:"success",message:e.msg}):this.$message({type:"warning",message:e.msg})}):l["a"].post(d.saveAsDraft,{title:this.title,content:this.html}).then(e=>{0===e.code?(this.draftParam.id=e.id,this.$message({type:"success",message:e.msg})):this.$message({type:"warning",message:e.msg})}):this.$message({type:"warning",message:"请先选择草稿保存类型"})},openDraftPreview(e){this.previewDraft.title=e.title,this.previewDraft.content=e.content,this.showDraftPreview=!0},applyDraft(e){this.$confirm("应用草稿后将会覆盖当前内容，请确认保存当前进度后继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(()=>{this.title=e.title,this.html=e.content,this.showCloudDraft=!1,this.showLocalDraft=!1,this.draftParam.id=e.id}).catch(()=>{this.$message({type:"message",message:"已取消"})})},deleteCloudDraft(e){this.$confirm("草稿删除后将无法恢复，是否继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(()=>{l["a"].post(d.deleteDraft,{id:e.id}).then(t=>{0===t.code?(this.cloudDraftList=this.cloudDraftList.filter(t=>t.id!==e.id),this.$message({type:"success",message:t.msg})):this.$message({type:"warning",message:t.msg})})}).catch(()=>{this.$message({type:"message",message:"已取消"})})},deleteLocalDraft(){this.$confirm("草稿删除后将无法恢复，是否继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(()=>{window.localStorage.removeItem(M),this.localDraftList=[],this.$message({type:"success",message:"本地草稿删除成功"})}).catch(()=>{this.$message({type:"message",message:"已取消"})})}},watch:{"params.time"(e){this.params.lockTime=e?1:0},postContent(){this.html=this.postContent},postTitle(){this.title=this.postTitle}}},$=B,F=(a("748e"),Object(L["a"])($,s,n,!1,null,"19517dce",null)),V=F.exports;t["a"]=V},"73f8":function(e,t,a){},"748e":function(e,t,a){"use strict";a("24f3")},"7cb1":function(e,t,a){},"7d97":function(e,t,a){"use strict";a("aebe")},"7e17":function(e){e.exports=JSON.parse('[{"root":"1","emotions":["awsl.png","lz怎么可能没有女粉.png","ok.png","peach.png","不想努力.png","不愧是你.png","不行吗.png","亲亲.png","你tmghs.png","你假装持久.png","冲冲冲！.png","冲呀.png","加倍.png","南瓜头毛怪.png","叹气.png","哈.png","哭哭.png","喵.png","嗯.png","嘤嘤嘤.png","嘿嘿.png","天使.png","好听.png","委屈.png","学习.png","害羞.png","怂呐.png","恐怖.png","恭喜.png","惊.png","惊吓.png","憨憨飘过.png","我是天才.png","扑通.png","抓狂.png","抢地主.png","抱奶瓶.png","拿扫把气呼呼.png","挠头.png","摸摸.png","早.png","昂波力无.png","晕晕.png","晚安.png","暗中观察.png","毛怪哭哭.png","流啤.png","海星.png","滑稽.png","热.png","爬.png","王炸.png","疑问.png","痛哭.png","真好.png","知识增加.png","破肺.png","篮球.png","美女.png","肖邦.png","谢谢.png","贴贴.png","面具.png","飞扑.png"]},{"root":"2","emotions":["出拳.png","吊着.png","吓.png","听不见.png","听我说.png","咻咻.png","哟.png","哭哭.png","喝茶.png","噗.png","好朋友.png","好朋友（七海款）.png","好朋友（三无款）.png","好朋友（猫猫款）.png","好朋友（鸟款）.png","好朋友（鹿乃款）.png","惊.png","抱抱.png","无语.png","晚安.png","自闭.png"]},{"root":"3","emotions":["吃我一拳.png","吃我三拳.png","吃毛怪.png","哈哈哈.png","唱歌.png","喝奶.png","岁岁芭比油.png","放空.png","期待.png","溜了.png","给心心.png","脱单憨憨.png","躺平.png","闪亮登场.png"]},{"root":"4","emotions":["Zzz.png","不要睡.png","交出来.png","伸懒腰.png","光速下班.png","哭哭.png","天才.png","就是你.png","开心.png","心动.png","恭喜.png","恰柠檬.png","打call.png","打咩.png","抱大腿.png","暗中观察.png","点赞.png","疑问.png","登场.png","石化.png","趴.png","遇到困难睡大觉.png","饿.png","鬼脸.png"]},{"root":"5","emotions":["交出手脚.png","你醒啦.png","傻dog.png","加冕为王.png","吃瓜.png","啊？.png","嗯？.png","地铁老人手机.png","天才.png","小天使的赞扬.png","快拿开.png","打不着.png","打劫.png","生日快乐！.png","生日快乐？.png","看我脸色行事.png"]},{"root":"6","emotions":["不想起床.png","偷笑.png","冲压.png","发红包.png","变兔子.png","吃年夜饭.png","吃饺子.png","吃鸡腿.png","呜呜.png","嗝.png","堆毛怪.png","失落.png","干杯.png","开摆.png","恭喜.png","憨憨嗷呜.png","打卡.png","拿来吧你.png","掌中萌虎.png","放烟花.png","新年快乐!.png","新年快乐.png","早.png","晚安.png","棒.png","毛怪哭哭.png","毛怪灯笼.png","毛怪震惊.png","点赞.png","玩雪.png","看烟花.png","穿新衣.png","蜷缩.png","许愿.png","诸事顺利.png","贴对联.png","贴贴.png","阿姨使不得.png","鞭炮上.png","鞭炮下.png","鞭炮塞你棉袄.png","饱了.png"]}]')},8438:function(e,t,a){"use strict";a("b849")},8685:function(e,t,a){"use strict";a("b385")},8888:function(e,t,a){},"8fe5":function(e,t,a){"use strict";a("9f00")},"919f":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("el-popover",{attrs:{placement:"bottom",width:"250",trigger:"hover"},on:{show:e.showHandle}},[t("div",{staticClass:"detail-avatar"},[t("div",{staticClass:"detail-avatar--report"},[t("span",[e._v("举报")])]),t("div",{staticClass:"detail-avatar--header"},[t("div",{staticClass:"detail-avatar--header__avatar"},[t("link-avatar",{attrs:{avatar:e.avatar,size:50,auth:e.auth,uid:e.uid,iconSize:e.iconSize,authentication:e.authentication,nickname:e.nickname}})],1),t("div",{staticClass:"detail-avatar--right"},[t("div",{staticClass:"detail-avatar--right__nickname"},[t("level-nickname",{attrs:{nickname:e.nickname,uid:e.uid,colors:e.level.color}})],1),t("div",{staticClass:"detail-avatar--right__label"},[e.showLabel?t("post-label",{attrs:{level:e.level}}):e._e()],1)])]),e.state.popoverLoading?t("div",{staticClass:"detail-avatar__user-data--loading"},[t("span",[e._v("加载中~~~")])]):t("div",{staticClass:"detail-avatar__user-data"},e._l(e.data,(function(a){return t("router-link",{key:a.text,staticClass:"detail-avatar__user-data--item",attrs:{to:"/space/"+e.uid+a.hash,target:"_blank"}},[t("div",{staticClass:"detail-avatar__user-data--item__label"},[e._v(e._s(a.text))]),t("div",{staticClass:"detail-avatar__user-data--item__data"},[e._v(e._s(e.userData[a.key]))])])})),1),e.state.isSelf||e.state.popoverLoading?e._e():t("div",{staticClass:"line"}),e.state.isSelf||e.state.popoverLoading?e._e():t("div",{staticClass:"detail-avatar--action"},[t("h-button",{attrs:{plain:e.followBtnPlain},on:{click:e.followAuthor},nativeOn:{mousemove:function(t){return e.hoverOnFollow.apply(null,arguments)},mouseleave:function(t){return e.outHoverOnFollow.apply(null,arguments)}}},[e._v(e._s(e.hoverOnFollowText))]),t("h-button",{on:{click:e.toChat}},[e._v("私信")])],1)]),e.uid?t("div",{staticClass:"avatar-info",attrs:{slot:"reference"},slot:"reference"},[e._t("avatar-slot")],2):e._e()])},n=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"post-label"},[t("level-label",{attrs:{level:e.level}})],1)},o=[],r=a("99ca"),l={name:"post-label",props:["level"],components:{levelLabel:r["a"]},data(){return{}},methods:{}},c=l,d=(a("8438"),a("2877")),u=Object(d["a"])(c,i,o,!1,null,"b36ee734",null),p=u.exports,m=a("dbbe"),h=a("e51f"),f=a("c362"),g={name:"detail-avatar",props:["avatar","level","uid","exp","nickname","focusHe","auth","iconSize","authentication"],inject:["postData"],components:{PostLabel:p,HButton:m["a"],LevelNickname:h["a"],LinkAvatar:f["a"]},data(){return{showLabel:!1,hover:{follow:!1},isFollowing:this.focusHe,userData:this.postData.popoverUserData,state:this.postData.popoverState,defaultAvatar:this.postData.defaultAvatar,data:[{text:"动态",key:"posts",hash:"#posts"},{text:"关注",key:"follow",hash:"#follow"},{text:"粉丝",key:"fans",hash:"#fans"}]}},mounted(){this.showLabel=!0},watch:{postData:{deep:!0,handler(){var e,t;(this.userData=this.postData.popoverUserData,this.state=this.postData.popoverState,this.defaultAvatar=this.postData.defaultAvatar,this.uid===(null===(e=this.postData)||void 0===e||null===(e=e.detailData)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.uid))&&(this.isFollowing=null===(t=this.postData)||void 0===t?void 0:t.isFollowing)}}},computed:{userLink(){return"/space/"+this.uid},showAvatar(){return this.avatar?this.avatar:this.defaultAvatar},hoverOnFollowText(){return this.isFollowing?this.hover.follow?"取消关注":"已关注":"+关注"},followBtnPlain(){return this.isFollowing}},methods:{showHandle(){this.$emit("getUserInfo",this.uid)},followAuthor(){this.$emit("followUser",this.uid,e=>{this.isFollowing=e})},toChat(){const e=new CustomEvent("open-chat",{detail:{uid:this.uid}});window.dispatchEvent(e)},hoverOnFollow(){this.hover.follow=!0},outHoverOnFollow(){this.hover.follow=!1}}},v=g,b=(a("2a99"),Object(d["a"])(v,s,n,!1,null,"59bc1468",null));t["a"]=b.exports},9361:function(e,t,a){"use strict";a("df8c")},9579:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"post-user"},["post-details"===e.type?t("detail-avatar",{attrs:{avatar:e.avatar,level:e.level,uid:e.uid,nickname:e.nickname,exp:e.exp,focusHe:e.focusHe,auth:e.auth,authentication:e.authentication},on:{getUserInfo:e.getUserInfo,followUser:e.followUser}},[t("template",{slot:"avatar-slot"},[t("link-avatar",{attrs:{avatar:e.avatar,size:e.size,auth:e.auth,authentication:e.authentication,nickname:e.nickname,uid:e.uid}})],1)],2):t("link-avatar",{attrs:{avatar:e.avatar,size:e.size,auth:e.auth,authentication:e.authentication,nickname:e.nickname,uid:e.uid}}),t("div",{staticClass:"stack"},[t("div",{staticClass:"top"},[t("level-nickname",{attrs:{nickname:e.nickname,uid:e.uid,colors:e.colors}}),e._t("post-master"),e._t("label"),t("level-label",{attrs:{level:e.level}})],2),t("div",{staticClass:"bottom"},[e._t("bottom")],2)])],1)},n=[],i=a("c362"),o=a("e51f"),r=a("99ca"),l=a("919f"),c={name:"post-user",props:["type","avatar","size","auth","authentication","nickname","uid","colors","level","exp","focusHe"],components:{LinkAvatar:i["a"],LevelNickname:o["a"],LevelLabel:r["a"],DetailAvatar:l["a"]},methods:{getUserInfo(){this.$emit("getUserInfo",this.uid)},followUser(e,t){this.$emit("followUser",e,t)}}},d=c,u=(a("241a"),a("2877")),p=Object(u["a"])(d,s,n,!1,null,"1fb39c77",null);t["a"]=p.exports},"99ca":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"level-label"},[t("img",{attrs:{width:"20",height:"20",src:e.label,alt:e.level}}),t("span",{staticClass:"label-name"},[e._v(e._s(e.level.name))])])},n=[],i={name:"level-label",props:["level"],computed:{label(){return`https://cdn.2550505.com/share/legacy-sso/${this.level.level}.png`}}},o=i,r=(a("be74"),a("2877")),l=Object(r["a"])(o,s,n,!1,null,"07390e1c",null);t["a"]=l.exports},"9aca":function(e,t,a){},"9e18":function(e,t,a){"use strict";a("b9e8")},"9ec6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAvFQTFRFAAAA//////////////////////////////////////////////////////////////////////////////////Lx/+He/9PO/8rF/8W//8bA/8nE/9LO//Hw/////////+/t/5qQ/3dp/19P/1JB/1NC/1RD/1VD/15O/3Vo/5iO/8S+/+3s//////////z8/8jD/4h8/1tK/1ZE/1NB/1FA/1lJ/4R4//z7//////////7+/7my/2tc/4B0/7ew/9DL/9HM/7qz/4yA/1ZG/2la/7Wt/8zH/25g/1RC/2JT/8/L/+bk/4Z6/2pc/8fC//////X1/5CF/+jm/5aM/4uA/////9vX/2ZX/1dF/1JA/7mz/3Rm/1dE/9XR/2RV//b1/8C6/3Jl/+zq/723/42C/8bB/2xd//X0/2NT/7Gp/////7y2/6ad/7+5/3ls/7Os/////83I/6if/1lI/5OI/3Fj//f2/2NU/1RE/+Dd/3Zo/2hZ//r5/4yB/39z/6Sb/8jC/3Bi//39/6mh/7Wu/3Jk/6KY/////+bj/1VE/4+E/9/c/////////46D//Py/9nW/3tu/4V5/97b/1tL/9bS/5SJ/8G7/4p//1pK/8S///v7/2dY/1ZF/+nn/////25f/21f/9HN/4F0/7Gq/////4N3/+vp//r6/+Ti/3xv/////11N/+3r/////66n/8vG/56V//Dv/87J/6ig/////5WK/9TQ//Tz/2FS/3lr/3Rn/2FR//79/9fU//Hv//n4/7St/+/u/2VW//j4/62l/9zY/1xM/3Nl/31x/97a/2xe/35x/+Lf/5eN/5KH/52T/1dH/1hH/4p+/6yk/+Th/6Wc/+Xj/8O9/+7s/7Kq/3dq/2pb/+Lg/29h/6CX/6KZ/4d7/4J2/+Pg/9PP/6ae/////9nV/6uj/7Co/5uR/722/7u1/5mP/8K8/7Or/5+W/5uS/+ro/9fT/5WL/////6+n/5OJ/6qi/9rXPhynhgAAAPt0Uk5TACVWh67K4vX+/PQBP4/T/xV21hLw////////////a+z/////////////////J8T/////////////X/r///////////////////////////+r//////+0//////////////////////////9g///////5/////////////////////////////+3/////FO///////////////////////5D//////9T//////yb//1f///////+t////////////////////////////////////////////////////////////////E///////////////////jv/////egCVDAAAGeUlEQVR4nKVXaVxUVRQfHVlM8IgIAgKmvJmHC4u8eROKG5rKiLlRBubglppYWWgKiFlBitiipVYuqIgiCkGapilqblgW4hpRaWWmmbZYafWpc+99982b5am/n+fDzL3nnP9595577jnnGgw61Ky5sYWXt49vywe8vVoYmzfT0/NIrfz8W7cEJ2rZ2t+v1T3C2wS0BY/UNqDNPcADje04ICi4fUhoWIfw4AjOaWcMvBs+siNTfTCsU+cowWQWRbNJiO7StVt3xu8YeUd4TCzViovvkSBKZosgUxIsZkm0PhSaSIWxMfr4nr2IRlLvPqJkodC+/fonDxj4MLUiiYMGUxO9eurh/QF8AYakSDb25aGpbNnDHmFzmzR8BFXx94wfSZRHjRZFpi5Hp6n+f1RhmcXHgsh8pCf8GCJ5PD1jrKIsPwFJDJ4ESeM40z40k7DG6Hy/myAKXHX8BGRM7Dtp9GS0EM+5gll40uMa/Am3n82k4uUpyJhKBtPQ0lPTVQsWMYvouvhhBuE9LVpkBz2DnIF09CyOZjoEgvQc0Z6hxcc8j5xsixYvz0JWD08GcBuh5DS18RCLhzNstk3QGngBlcLIYM5cPJwcrciUm4eAWAc+kixpnuSEl/PnIzP1xQUvBaETX3YSCeIrBShUozqQxH9hhuxCr/IoSIKChS6yjEXIL+I3y4iTxWaLq4HiVDWQlrjKBPk1ZBsZ/vU3cPym5KqDWoVLKXzZW+4y6W1yu1l+CMDhckFwV5LlFe1RNsWTZKxpJYoCCL4VyT/veFgAoXcBEvM9SqT3SI4iWc6PpI9Vbh5gtBpgzVqPEqFkHQL90MB6/O/ttgBrSsqGDaVrN6KBsvQ+w4cPKnZbwiYErkcDm/G/XHSRdtkCcXFxiYnkPq6pQFqzdZKLirgNZZsNhkrM3xFVrjuId0vJLCq1e7C+j9m+0lCNsnCb6/pqHEHEKctVR/wAudU0ija5uaB4e7fQ0LCw1Tsww344NT4+pMPO2W5OKKSxtAt/P9I5RFnuj6mgSkcmkYyxy+CFv2WuPlRpN8Cej3Vk4l6Eehm88XefWc8AhltQrY7MVopX0tvgA7B/g5sTOR0AOBilIzPlfwLgY8A0H9eHGxAObd3upLQM4LCeD0xHjmKVIAYKSrmBY7ifzlqlOoDux7WMzpnJ6doV+JItwKeKDz4j512j1T8BMDlBM4/C4OmvjG2fx5EtECd+wU5BqCdxs1GjL+QBbLFqGCfJJ8rZ2DwPiBPJMTawODhFIy7ttGab9QDrzmgMDCGfWMnG0ll6jCSQzlEDUayPiCt16OeedzaYM4GqLGAGvsRhCxrK2dQHh5Sgb3AAihuxNpc45l2ZRgidiFNpKJPL1H0VJrToIOXyfOUAlAwDaNRkgpXMQAXJMUJJGr1M5DrDNvTikab9eV9vxUlEtAo4jTrnc9XpN/xmkj2IxId4nWlCySJOyPmWFUQ4qSLOYNqqN6nTiUTaryY8hHzCXsgSCk1pacVKUk4hFeeCCrFuAchT8/VFIkzjjZNwQUlpJKnCWX6hSZKA7zgkYTLACXUBxGnwPfdvGShJlab1TB7MNBgr5iiz49jc1XH8D0TUxG8GzUc0rdPCApf4EsJoMClXuOow1iVFUNtEJPyuiTPJLICVNtKa1vHSlL6HnOWPrJpEHQQ4wPi0EmEFUzxguwxqaaOxBJ14dX6RRsNSWtBqg3jgWpPp+e1V8BkNAGpxNQQW4eRoPu+vfmLxlHzJJFuxul4mvLJG0HrQnIPrhKIrTg3GVZkXh5+VcDl/rSvGfmb0vl92M8Z1RUEwhZOppm0mLQ7cUFu8XwvAQRV7+Og3jpd+B+cWxxBDm+RZdm5h3FVwJ55pxmb8QaZOTRZr82CRo01qWO4Czyvn37ffpAynNk9pNKHG0WkKfQc0FoBS20alLjHz7Ys7qapbw01bXRhxWlOkiqfd3A/wZ8328vEqT8qlN8pTu02bbVg80+64fXLtfKf0IJvsXYKpmodmm68BBldlqMVe+AvgbxVusSdcA73vE7pFXxMQsWiFZFaa/iO3/+G+t9mtp8h1QJVbnvH8yQOwI2shvnAcnTt6ThIuHmtiUv0nj/roQqo7V5Yj2CRKZmH6gn//463GnR5dSJFF6snPrc++fruwsOZGdvAolVl052efwenh6U7tjFfuhjfc99OX0H0+vhlVVrPnv68Pef5XV+rp/Q+rdLh2FoIUAAAAAABJRU5ErkJggg=="},"9f00":function(e,t,a){},a16e:function(e,t,a){},a3dc:function(e,t,a){},a4f1:function(e,t,a){"use strict";a("7cb1")},a9bd:function(e,t,a){},abd7:function(e,t,a){},acd3:function(e,t,a){"use strict";a("73f8")},aebe:function(e,t,a){},b0b1:function(e,t,a){"use strict";var s=a("3618");t["a"]=s["a"]},b385:function(e,t,a){},b69d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAppQTFRFAAAA////////////////////////////////////////////////////////////////////////////////8/n/5PL/1+z/0Oj/y+b/zOf/z+j/////////8Pj/pdT/hcX/cLv/Zbb/Z7r/aLz/ab3/ZbX/hMT/o9P/yub/7/f//////////f7/zuj/lcz/bbn/ab7/asH/aL3/Zrn/Zbf/ZLb/ZLX/asD/ab//a7j/ksv//P7//////////v//wOH/e8D/ar//Zrj/jsn/v+H/1ev/1uv/wuL/mM7/abf/eb//vd//0en/fsH/c7z/1Ov/6fX/k8v/a8H/esD/zef/////9vv/nND/6vX/odL/////3/D/d77/a8L/weH/g8T/2e3/db3/9/v/x+T/gsP/7vf/xeP/v+D/mc//fMD/dL3/ud7/////w+P/r9n/xuT/iMb/vN//////0+r/sdr/Z7v/ntH/gcP/+Pz/Z7b/+v3/mc7/jcn/rtj/zuf/f8L/str/veD/rNf/////6fT/Zrb/aLf/m8//Zbj/4vH/////////ms//9Pr/3u//isf/2+7/oNH/yOX/l83/bLn/+/3/7Pb/////fcH/1uz/j8n/ut7/////kMr/7ff/5/T/////b7r/////t93/qdb/8vn/////oNL/brr/9fr/h8b/crz//v7/3O7/eL//+vz/8fj/dr7/+fz/ttz/gsT/jMj/4fH/fMH/5fP/4/L/7fb/p9X/abj/arj/ls3/tdz/5/P/6PT/yuX/6/X/dr3/hsX/er//0On/q9f/rNj/lMz/5vP/2Oz/sNn/////3e//tNv/uN3/ptT/xOP/w+L/pNP/u97/qtb/ptX/kcr/////n9H/0ur/MuBdaAAAAN50Uk5TACVWh67K4vX+/PQBP4/T/xV21hLw/////////2vs/////////////////yfE/////////////////////1/6//////////////////////////////+r/////7T//////////////////////2D///////n/////////////////////7f///////xTv//////////////+Q/////9T///8m/1f///+t////////////////////////////////////////////////////E///////////////jv//Je9w6AAABnNJREFUeJylV/1fzVccv6SnKR/JLSXpPnSLuunq3r51RdxrYinZlZi6k6ehbGMpok2TrtqGZiLR9IAhzBjLs8aeDY1tZvtf9vmc7/fc+70PX7xePj/ce87n6ZzvOe/Pw1GpFGjY8KARwSGhYeGvhQSPCBo+TEkvII2MiBwVDl4UPioyYuRLmo+OGgMBaUzU6Jcwjw4ayw3UMbHj4uLHx8aoOWdsUPSL7BMmiKqJ8ROTNFqdPjlZrzNoUlInTRb5ExKea56WzrSMGVMyTVOzzJZsASnbYs7KybVOi8tjwvQ0ZfvpM0gjf+Ysk81OpsLs1+cUzJ33Bg3tttzC+czFjOlK9pEAYQBFxVP1zFpYUCJue+Gb4lzvWFTKVCID2y8m5bIlyVmiuqBZ6j7/tySW3jSPHejiQPbLSFJe4dRKysLbkC+a50P+comX7VxQSaxlCutP0iYbuP2KlchYNXv1kjXoIYNzDVmWdwLuIZK4a/HKuKawDhmlNFiPnsqq3B7MydWk63MOG4j3brJd8NB7yJnHRu/jaKNHYLdtIu0Ncvu0D5BTYzbL7IXNyJoSyIFg18fRbcrxkI6Xs9Baa5A7qEOleBps2Sr/BCJdfQwapHvsE2hLSTle9kLhNmSWbG/4UI2H+JGXyJC7w4hCN6qjCf+NTsGHPuYoyAfjFh+Zcyfym3hkBeFkV7Pd14GrxA2k3b6yFm0rsoNE+08+xfFnDl8dQdA27mHme/f5y3KmUXSL+SEKh60Wi7+SIGTGomxdIIlW14aiKLIfSfnn8wAbINoPkFcYUJLzBeUoynIRlD4OmANqCXjh7RUBJS2ug2gYgQ4O4f/MHF+5tRipo+IwOuismLVoUaHLV8NxBA0PoYOj+N+V6yNN+RKMRmNeHsVjO6Njq31UTPtQdlSl6sb8re7x/YIMv5QsolJGdiumyfBuVS/KYmuzfaR9HhBxqvb9hqwi5PYyFB2Z6it0HZ8UFxcfH3cCM2xNaUbGuPGNVr9DaGRYOom/X/mdIac5GEenFGQ2yhgnVcH422lScoD56/QCBVnWGTQNVoXgb4peyQHCTd2vIKvtwJAMUYUCnC2uVXJwDuCERkGmO/81QKgK07xxFndg2HTsuJfSXoALPUoOvrmIVYI56OAOLlFikSuVA0z2OsSkygIObbaDMPoE+FY6g8t0331y/SsAazJlcw2CZ440rv3OSJ9Ah3hZvAXDAOHmsExfexXgmhwAqbRElzjOSgI6RLrGOhEH1xnilt7w6DcPABy8KXNQREu0iWPbLXaNBKTbDIkasY8wdnj06+94O6xayVQa2MRBlWMEg3INO4NNEujrPAauQazNskBOFTXGsYmplEGZgmnyATvfAO7we5mDhQCDMgdtogOWYyyuuyyYKJxhH57ivcSzMUeO4UTtQc4NrPB36t3TH3hkNvAzxHBmCaWaUmLVj2JBhFS3xU1MWwPN7ukqkq7ti/2JlmDBeFRKaUtdLaJKMVUcj4n1GsBVd8PAytFdqX5Z8NLFlEZJFW7xgKYkAT9zk8w1AFfcG6BDg1+kia0TpKTK0nplrbQOA2M7r2SnEHjl3P5XEiVKwM42FfG0zgoLdPEtxDMwSSHccwHrkiToTyQJjzXTRppFiaWNWtNyu1SaKk7TXf52nk00mNLOifxmdoWt0ka1tffBXdoYlmAir87bGRr2sILWr+bAtRaw+zsj6hic1D3w4qqKbsLJxULeX/0u4qmgq1mw4nbuE69zEOQnqK9CATQ98GowHmp5cXgkweXOUCpiv1KT8kelyHgsKdjNVHRB1jZTiwNPcnmF/tMIHmo/zUf7JbE25y/wbnFUaaxJ3uzgHpY/BH/imUbr/JumXk2W2ObBTkcLv/S6Vh/zGCmNCBbHU8bwavOkRhP69O5OzTB77qARpNpWVrJbgrdBZ2pkqn4NN2t1ofSGrEi51j89ixmp7/g/K9w8Wz2LqEDtNmu2YddGh87jon+bV3oQzM6UGKYWoNnme4D5PU53sTe0eVp9Ms8cAqX1iZ6x1wSod2Y69BJk7w39y89e77Bep3BAlWeB7fmTB6tZ9RaLw6Sz8K7BojM57DsuJYpS5SeP+9GFVH67s0qrt+Ug2fSGqoZHe3mr8bxHF1JCk/vmtw7UPB5qbOx78l9MmZvZ9Pxnn8rr4elPY4MevMhe9cpPX6JXfHyL1N0rPv/DQun539utpPc/Pj2o2nhE0X8AAAAASUVORK5CYII="},b849:function(e,t,a){},b9e8:function(e,t,a){},b9fc:function(e,t,a){"use strict";a("2936")},be74:function(e,t,a){"use strict";a("ffda")},c362:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("avatar",{staticClass:"link-avatar",attrs:{avatar:e.avatar,size:e.size,iconSize:e.iconSize,auth:e.auth,authentication:e.authentication,nickname:e.nickname},nativeOn:{click:function(t){return e.toHomepage.apply(null,arguments)}}})},n=[],i=a("c450"),o={name:"level-nickname",props:["avatar","size","iconSize","auth","authentication","nickname","uid"],components:{Avatar:i["a"]},methods:{toHomepage(){window.open("/space/"+this.uid)}}},r=o,l=(a("cbe7"),a("2877")),c=Object(l["a"])(r,s,n,!1,null,"36dac9a4",null);t["a"]=c.exports},c450:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"avatar",style:e.avatarStyle},[t("div",{staticClass:"avatar-border"}),t("img",{staticClass:"avatar-img",attrs:{src:e.avatar,width:e.imageSize,height:e.imageSize,alt:e.nickname}}),e.auth?t("img",{staticClass:"auth",style:e.authPosition,attrs:{width:e.authIconSize,height:e.authIconSize,src:e.authenticationImage,alt:e.authentication,title:e.authText}}):e._e()])},n=[],i=a("2f62");const o={PERSONAL:1,TEAM:2,OFFICIAL:4};var r={name:"avatar",data(){return{personalImage:a("3665"),teamImage:a("9ec6"),officialImage:a("b69d")}},props:["avatar","size","iconSize","auth","authentication","nickname"],computed:{...Object(i["d"])({theme:e=>e.config.theme,themeWithAvatarBorder:e=>e.config.themeWithAvatarBorder}),authenticationImage(){switch(this.auth){case o.PERSONAL:return this.personalImage;case o.TEAM:return this.teamImage;case o.OFFICIAL:return this.officialImage}return""},authText(){switch(this.auth){case o.PERSONAL:return"个人认证";case o.TEAM:return"团体认证";case o.OFFICIAL:return"官方账号"}return""},avatarStyle(){return`width: ${this.size}px;height: ${this.size}px;`},authIconSize(){return this.iconSize||14},imageSize(){return this.themeWithAvatarBorder.includes(this.theme)?.6*this.size:this.size},authPosition(){return this.themeWithAvatarBorder.includes(this.theme)?"right: 6px; bottom: 11px;":"right: -2px; bottom: 0px;"}}},l=r,c=(a("e9e8"),a("2877")),d=Object(c["a"])(l,s,n,!1,null,"99141c2e",null);t["a"]=d.exports},cbe7:function(e,t,a){"use strict";a("f4f8")},d7dd:function(e,t,a){},db04:function(e,t,a){"use strict";a("0643"),a("4e3e");var s=a("bc3a"),n=a.n(s),i=a("ec26");const o=a("3452"),r=e=>o.SHA256(e).toString(),l=e=>{const t={};if(e){const a=e.split("; ");a.forEach(e=>{const[a,s]=e.split("=");t[a]=s})}return t},c=n.a.create({baseURL:"",withCredentials:!0,timeout:6e4,timeoutErrorMessage:"请求超时"});c.interceptors.request.use(e=>{const t=l(document.cookie);return"post"===e.method&&(e.headers.hash=r(e.url+JSON.stringify(e.data)+t.token)),e.headers.authorization=Object(i["a"])(),e},e=>Promise.reject(e)),c.interceptors.response.use(e=>{if(200===e.status)return e.data;console.error(e.status)},e=>(console.log("err"+e),Promise.reject(e))),t["a"]=c},df8c:function(e,t,a){},e00f:function(e,t,a){e.exports=a.p+"img/android.2fb1b01c.png"},e100:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var s=a("5a0c"),n=a.n(s),i=a("0ecf"),o=a.n(i),r=a("1953"),l=a.n(r),c=a("b002"),d=a.n(c),u=a("4208"),p=a.n(u),m=a("c4a1"),h=a.n(m);function f(e,t=!1){const a=n()(new Date),s=a.utcOffset(),i=e.includes("T")?n()(e).add(s,"minutes"):n()(e).subtract(8,"hours").add(s,"minutes");if(a.year()!==i.year()){const e=i.format("YYYY-MM-DD");return`${e}${t?" "+i.format("HH:mm"):""}`}if(a.month()!==i.month()||a.diff(i,"day")>=3){const e=i.format("MM-DD");return`${e}${t?" "+i.format("HH:mm"):""}`}const o=n()(i);if(o.add(1,"day").isYesterday()){const e="前天 "+i.format("HH:mm");return e}if(i.isYesterday()){const e="昨天 "+i.format("HH:mm");return e}if(a.diff(i,"minute")<1)return"刚刚";if(a.diff(i,"hour")<1){const e=a.diff(i,"minute");return e+"分钟前"}if(a.diff(i,"day")<1){const e=a.diff(i,"hour");return e+"小时前"}return i.format("YYYY-MM-DD HH:mm")}n.a.extend(o.a),n.a.extend(l.a),n.a.extend(d.a),n.a.extend(p.a),n.a.extend(h.a)},e51f:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("nickname",{staticClass:"level-nickname",style:e.usernameStyle,attrs:{nickname:e.nickname},nativeOn:{click:function(t){return e.toHomepage.apply(null,arguments)}}})},n=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"nickname"},[e._v(" "+e._s(e.nickname)+" ")])},o=[],r={name:"nickname",props:["nickname"]},l=r,c=(a("2b1a"),a("2877")),d=Object(c["a"])(l,i,o,!1,null,"9ad1cc50",null),u=d.exports,p=a("808e"),m={name:"level-nickname",props:["nickname","colors","uid","size"],components:{Nickname:u},computed:{usernameStyle(){const e=this.colors.split(",");if("#606266"===e[0])return`color: ${p["f"]};font-size: ${this.size||16}px`;if(1===e.length)return`color: ${e[0]};font-size: ${this.size||16}px`;const[t,a]=e;return`background-image: linear-gradient(135deg,${t},${a});background-clip:text;-webkit-background-clip:text;color: transparent;font-size: ${this.size||16}px`}},methods:{toHomepage(){window.open("/space/"+this.uid)}}},h=m,f=(a("7d97"),Object(c["a"])(h,s,n,!1,null,"42c63d6c",null));t["a"]=f.exports},e666:function(e,t,a){},e827:function(e,t,a){"use strict";a("ef29")},e9e8:function(e,t,a){"use strict";a("9aca")},ed08:function(e,t,a){a("0643"),a("fffc"),a("a573");const s=a("1157"),n={dateFormat:(e,t)=>{let a;const s={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(let n in s)a=new RegExp("("+n+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?s[n]:s[n].padStart(a[1].length,"0")));return e},getLevelInfo(e,t){let a=0;while(a<t.length){if(a===t.length-1)return t[a];if(e>=t[a].exp&&e<t[a+1].exp)return t[a];a++}},imagesLoadDone:async e=>{const t=e.map(e=>new Promise(t=>{const a=new Image;a.src=e,a.onload=()=>{t(e)}}));return Promise.all(t)},dateInrange:(e,t,a)=>{const s=new Date(e),n=new Date(t);return n.valueOf()-s.valueOf()<a},getThumbnail:e=>{if(!e)return"https://cdn.2550505.com/share/legacy-sso/thumbnail.default.png";if(e.includes("cdn.ihan.club"))return e+"?imageView2/1/w/100/h/100";if(e.includes("cdn.2550505.com/share/legacy-sso")){const t=e.split("/"),[a]=t.slice(-1);return t[t.length-1]="thumbnail."+a,t.join("/")}if(e.includes("2550505.com")){const t=e.split("/"),[a]=t.slice(-1);return t[t.length-1]="thumbnail."+a,t.join("/")}return e.includes("pic.imgdb.cn")?e+"?w=100&h=100":void 0},isTimestampToday:e=>{const t=new Date,a=new Date(e);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()},isTimestampBirthday:e=>{const t=new Date,a=new Date(e);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()},parseHtml:(e,t=[])=>{const a=s(e);let n=0;const i={NEW:2,BIRTHDAY:3,SIGN:4},o=s(a).find(".mention-user"),r=[...o].map(e=>Number(e.getAttribute("data-uid"))),l=s(a).find(".upload-img"),c=[...l].map(e=>e.getAttribute("src")),d=s(a).find(".editor-video"),u=[...d].map(e=>e.getAttribute("data-src"));t.find(e=>9===e.id)?n=i.NEW:s(a).find(".birthday-card").length?n=i.BIRTHDAY:s(a).find(".sign-days-card").length&&(n=i.SIGN),s(a).find(".emoticon-img").each((function(){const e=s(this).attr("data-emotion-name");s(this).text(`[${e}]`)})),s(a).find(".editor-video").each((function(){s(this).text("[视频]")})),s(a).find(".upload-img").each((function(){s(this).text("[图片]")})),s(a).find(".mention-user").each((function(){const e=s(this).attr("data-nickname");s(this).text(`[@${e}]`)})),s(a).find(".sign-days-card").each((function(){const e=s(this).attr("data-days");s(this).text(`[签到${e}天]`)})),s(a).find(".birthday-card").each((function(){s(this).text("[生日]")}));const p=s(a).text();return{ats:r,pictures:c,videos:u,plaintext:p,type:n}},getDaysBetweenDates:(e,t)=>{const a=new Date(e),s=new Date(t),n=Math.abs(s.getTime()-a.getTime()),i=Math.ceil(n/864e5);return i},handleRenderHtml:e=>{const t=s(`<div>${e}</div>`);return s(t).find("a.mention-user").each((e,t)=>{const a=s(t).attr("data-nickname"),n=s(t).attr("data-level"),i=s(t).attr("data-level-name"),o=s(t).attr("data-avatar"),r=s(t).attr("data-color-style");s(t).html(`\n                    <span class="mention-user--avatar" style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden;">\n                        <img src="${o}" style="width: 100%; height: 100%; object-fit: cover;">\n                    </span>\n                    <span class="mention-user--info" style="display: flex; flex-direction: column; justify-content: space-between; margin-left: 10px;">\n                        <span class="mention-user--nickname" style="${r}">${a}</span>\n                        <span class="mention-user--level-label" style="display: inline-flex; align-items: center; width: max-content; padding: 3px 5px; background-color: var(--theme-level-label-bg-color);">\n                            <img class="mention-user--level-labela__img" src="https://cdn.2550505.com/share/legacy-sso/${n}.png" style="width: 20px; height: 20px;">\n                            <span class="mention-user--level-label__name" style="color: var(--theme-level-label-text-color); font-size: 12px; box-sizing: border-box; margin-left: 5px;">${i}</span>\n                        </span>\n                    </span>\n                `)}),s(t).html()}};e.exports=n},eeb3:function(e,t,a){"use strict";a("abd7")},ef29:function(e,t,a){},f4f8:function(e,t,a){},fbab:function(e,t,a){"use strict";a("49ca")},ff89:function(e,t,a){"use strict";a("8888")},ffda:function(e,t,a){}});