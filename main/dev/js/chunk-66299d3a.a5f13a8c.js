(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66299d3a"],{"08f8":function(t,s,e){"use strict";e("88d0")},"11a4":function(t,s,e){"use strict";var i=function(){var t,s=this,e=s._self._c;return e("div",{staticClass:"post-brief",attrs:{brief:s.brief}},[s.brief?s._e():e("div",{staticClass:"top"},[e("post-user",{attrs:{avatar:s.post.author.avatar,size:50,auth:s.post.author.auth,authentication:s.post.author.authentication,nickname:s.post.author.nickname,uid:s.post.author.uid,colors:s.levelLabel.color,level:s.level}},[e("template",{slot:"bottom"},[e("span",{staticClass:"post-time"},[s._v(s._s(s.postTime))])])],2),s.isMobile?s._e():s._t("right-top")],2),e("div",{staticClass:"content"},[e("post-content",{attrs:{title:s.post.title,content:s.post.content,labels:s.post.labels,pictures:s.post.pictures,author:s.post.author,"primary-pictures":s.post.primaryPictures,videos:s.post.videos,isMobile:s.isMobile,brief:s.brief,type:s.post.type,id:s.post.id,vote:null===(t=s.post)||void 0===t?void 0:t.vote}})],1),s.showHanserAction&&s.isLogin&&!s.brief?e("div",{staticClass:"hanser-action"},[s.post.hanserReply?e("div",{staticClass:"hanser-reply"},[e("icon",{attrs:{icon:"hanser icon-huifu"}}),s._v(" hanser回复过")],1):s._e(),s.post.hanserLike&&!s.post.hanserReply?e("div",{staticClass:"hanser-like"},[e("icon",{attrs:{icon:"hanser icon-dianzan"}}),s._v(" hanser赞过 ")],1):s._e()]):s._e(),s.brief?s._e():e("div",{staticClass:"bottom"},[e("ul",{staticClass:"tags",class:{"no-tags":!s.post.tags||!s.post.tags.length}},s._l(s.post.tags,(function(t){return e("li",{key:t.id,staticClass:"tag"},[e("router-link",{staticClass:"tag-link",attrs:{to:"/tag/"+t.id}},[s._v("#"+s._s(t.name))])],1)})),0),s.isLogin?e("div",{staticClass:"datas"},[e("div",{staticClass:"readings"},[e("div",{staticClass:"icon"},[e("div",{domProps:{innerHTML:s._s(s.readingsIcon)}})]),e("div",{staticClass:"data"},[s._v(s._s(s.post.readings))])]),e("div",{staticClass:"replies"},[e("div",{staticClass:"icon"},[e("div",{domProps:{innerHTML:s._s(s.repliesIcon)}})]),e("div",{staticClass:"data"},[s._v(s._s(s.post.replies))])]),e("div",{staticClass:"likes",class:{liked:s.post.liked},on:{click:function(t){return s.like(s.post)}}},[s.showLike?e("div",{staticClass:"like-animation",style:s.themeLikeAnimationStyle},[e("div",{domProps:{innerHTML:s._s(s.likeGif)}})]):s._e(),e("div",{staticClass:"icon"},[e("div",{domProps:{innerHTML:s._s(s.likeIcon(s.post.liked))}})]),e("div",{staticClass:"data"},[s._v(s._s(s.post.likes))])])]):s._e()]),s.brief?e("div",{staticClass:"divider"}):s._e()])},a=[],n=e("9579"),r=e("7b81"),l=e("808e"),o=e("ed08"),c=e.n(o),h=e("2f62"),d={name:"post-brief",props:["post","levels","author","brief"],data(){return{TEXT_COLOR:l["i"],showLike:!1}},components:{PostContent:r["a"],PostUser:n["a"]},computed:{...Object(h["d"])({user:t=>t.users.userInfo,isMobile:t=>t.media.isMobile,theme:t=>t.config.theme}),level(){const{exp:t}=this.author;let s=this.levels[0];return this.levels.forEach(e=>{e.exp<=t&&e.level>s.level&&(s=e)}),s},levelLabel(){const t=this.levels.find(t=>t.level===this.level.level);return t},lastReplyTime(){return c.a.dateFormat("mm-dd HH:MM",new Date(this.post.last_reply_time.replace(/-/g,"/")))},showHanserAction(){return this.post.hanserLike||this.post.hanserReply},isLogin(){return!!this.user.uid},postTime(){return c.a.dateFormat("YYYY-mm-dd HH:MM",new Date(this.post.post_time.replace(/-/g,"/")))},likeGif(){switch(this.theme){case"new-year-2023":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-like.gif" width="87" height="110" alt="点赞" />';default:return'<img src="https://cdn.2550505.com/share/legacy-sso/like.gif" width="64" height="42" alt="点赞" />'}},themeLikeAnimationStyle(){switch(this.theme){case"new-year-2023":return"top: -98px; right: -12px";default:return""}},readingsIcon(){switch(this.theme){case"new-year-2023":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-readings.png" width="25" height="15" alt="查看" />';case"new-year-2024":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-reading.png" width="28" height="28" alt="查看" />';default:return'<i class="hanser icon-chakan"></i>'}},repliesIcon(){switch(this.theme){case"new-year-2023":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-replies.png" width="20" height="20" alt="回复" />';case"new-year-2024":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-reply.png" width="20" height="17" alt="回复" />';default:return'<i class="hanser icon-huifu" />'}}},methods:{like(t){const s="new-year-2023"===this.theme?1300:1e3;!t.liked&&this.user.uid?(this.showLike=!0,setTimeout(()=>{this.showLike=!1},s)):this.showLike=!1,this.$emit("like")},likeIcon(t){return"new-year-2023"===this.theme?t?'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-like-click.png" width="20" height="20" alt="已点赞" />':'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-like.png" width="20" height="20" alt="点赞" />':"new-year-2024"===this.theme?t?'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-like_active.png" width="20" height="20" alt="已点赞" />':'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-like_default.png" width="20" height="20" alt="点赞" />':'<i class="hanser icon-dianzan"></i>'}}},p=d,u=(e("08f8"),e("2877")),g=Object(u["a"])(p,i,a,!1,null,"03e0f0e8",null);s["a"]=g.exports},"2b0f":function(t,s,e){},"74aa":function(t,s,e){},"7b81":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"post-content"},[s("router-link",{staticClass:"title",attrs:{to:"/post/"+t.id,target:t.target}},[t.labels.length?s("ul",{staticClass:"labels"},t._l(t.labels,(function(e,i){return s("li",{key:i},[s("span",{staticClass:"label",style:t.labelStyle(e)},[t._v(t._s(e.labelName))])])})),0):t._e(),s("p",{staticClass:"title-text"},[t._v(t._s(t.title))])]),s("div",[t.isCardType?s(t.renderContent,{tag:"component",attrs:{avatar:t.author.avatar,nickname:t.author.nickname,day:t.day}}):s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.renderContent)}})],1),t.brief||!t.videos||t.videos.length?t._e():s("div",{staticClass:"pictures"},[s("post-image",{attrs:{images:t.pictures,type:t.type,isMobile:t.isMobile,"primary-pictures":t.primaryPictures}})],1),t.videos&&t.videos.length?s("div",{staticClass:"video"},[s("iframe",{ref:"video",attrs:{src:t.videos[0],width:t.videoWidth,height:t.videoHeight,scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"allowfullscreen"}})]):t._e()],1)},a=[],n=function(){var t=this,s=t._self._c;return t.imageCount?s("div",{staticClass:"post-image"},[s("div",{class:t.imageClass},[t._l(t.showImages,(function(e,i){return s("el-image",{key:e+i,staticClass:"image",style:t.imageStyle,attrs:{lazy:"",fit:"cover",src:e},on:{click:function(s){return t.handlePreview(i)}}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("img",{attrs:{width:"100",height:"100",alt:"loading",src:"https://cdn.2550505.com/share/legacy-sso/loading.jpg"}})]),s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("img",{attrs:{width:"100",height:"100",alt:"failed",src:"https://cdn.2550505.com/share/legacy-sso/fail.jpg"}})])])})),t.showViewer?s("el-image-viewer",{attrs:{"initial-index":t.initialIndex,maskClosable:!1,"on-close":t.onClose,"url-list":t.primaryPictures}}):t._e()],2)]):t._e()},r=[],l=e("08a9"),o={name:"post-image",props:["images","primaryPictures","type","isMobile"],components:{ElImageViewer:l["a"]},data(){return{showViewer:!1,initialIndex:0}},computed:{imageClass(){return 3===this.imageCount?"image-count-3":4===this.imageCount?"image-count-4":"image-list"},showImages(){return this.images.slice(0,9)},imageCount(){var t;return null===(t=this.images)||void 0===t?void 0:t.length},imageStyle(){return this.isMobile?[1,2,3].includes(this.type)?"width: 100%":"width: 100px; height: 100px":[1,2,3].includes(this.type)?"max-width: 300px;max-height: 300px":"width: 100px; height: 100px"}},methods:{changeIndex(t){this.initialIndex=t},handlePreview(t){this.initialIndex=t,this.showViewer=!0},onClose(){this.showViewer=!1,this.initialIndex=0}}},c=o,h=(e("eff9"),e("2877")),d=Object(h["a"])(c,n,r,!1,null,"18654413",null),p=d.exports,u=function(){var t=this,s=t._self._c;return s("div",{staticClass:"birthday-sign"},[s("div",{staticClass:"birthday-picture"},[s("img",{staticClass:"birthday-img",attrs:{src:"https://cdn.2550505.com/share/legacy-sso/birthday-picture.png"}}),s("div",{staticClass:"birthday-avatar"},[s("img",{staticClass:"birthday-avatar-img",attrs:{src:t.avatar,width:"100%",height:"100%",alt:t.nickname}})])])])},g=[],m={props:["avatar","nickname"]},v=m,y=(e("84a7"),Object(h["a"])(v,u,g,!1,null,"18ac8936",null)),f=y.exports,b=function(){var t=this,s=t._self._c;return s("div",{staticClass:"post-content"},[s("span",{staticClass:"sign-days-card",attrs:{"data-bg-class":t.index}},[s("span",{staticClass:"sign-card-wrapper"},[s("img",{staticClass:"sign-card-bg",attrs:{src:t.bg}}),s("span",{staticClass:"sign-avatar"},[s("img",{staticClass:"sign-avatar-img",attrs:{src:t.avatar,alt:t.nickname}})]),s("span",{staticClass:"sign-nickname"},[t._v(t._s(t.nickname))]),s("span",{staticClass:"sign-days"},[t._v(t._s(t.day))])])])])},w=[],C=e("ed08"),_=e.n(C),k={props:["avatar","nickname","day"],computed:{maxSignDays(){return _.a.getDaysBetweenDates("2021-12-31",Date.now())},bg(){return this.day<500?"https://cdn.2550505.com/share/assets/mgclub/editor/sign-1.png":this.day>=500&&this.day<this.maxSignDays?"https://cdn.2550505.com/share/assets/mgclub/editor/sign-2.png":this.day===this.maxSignDays?"https://cdn.2550505.com/share/assets/mgclub/editor/sign-3.png":0},index(){return this.day<500?1:this.day>=500&&this.day<this.maxSignDays?2:this.day===this.maxSignDays?3:0}}},x=k,I=(e("bcd6"),Object(h["a"])(x,b,w,!1,null,"6818692a",null)),T=I.exports,M={name:"post-content",data(){return{TYPE:{BIRTHDAY:3,SIGN:4}}},props:["labels","title","type","content","author","pictures","id","primaryPictures","isMobile","brief","videos","vote"],methods:{labelStyle(t){return`background: ${t.color};`}},computed:{isTop(){const t=this.labels.find(t=>1===t.labelId);return!!t},target(){if(this.isMobile)return"_blank";{const t=Number(window.localStorage.getItem("openType"));if(0===t)return"_self";if(1===t)return"_blank"}return"_self"},videoWidth(){return this.isMobile?"100%":"70%"},videoHeight(){return this.isMobile?"200":"400"},isLevelUpPost(){const t=this.labels.find(t=>7===t.id);return!!t},renderContent(){return this.type===this.TYPE.BIRTHDAY?f:this.type===this.TYPE.SIGN?T:this.content},day(){const t=/签到(\d+)天/;let s=this.content.match(t),e=0;return s&&(e=s[1]),Number(e)},cardType(){return Object.values(this.TYPE)},isCardType(){return this.cardType.includes(this.type)}},components:{PostImage:p,Birthday:f,Sign:T}},L=M,P=(e("ae8d"),Object(h["a"])(L,i,a,!1,null,"63fedb69",null));s["a"]=P.exports},"7d8f":function(t,s,e){},"84a7":function(t,s,e){"use strict";e("7d8f")},"856c":function(t,s,e){},"88d0":function(t,s,e){},ae8d:function(t,s,e){"use strict";e("74aa")},bcd6:function(t,s,e){"use strict";e("856c")},eff9:function(t,s,e){"use strict";e("2b0f")}}]);