(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b8860d5"],{"0792":function(s,t,a){"use strict";a.d(t,"a",(function(){return e}));const e=/[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/},"269b":function(s,t,a){"use strict";a("c4ba")},"9d4e":function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"register"},[t("div",{staticClass:"register-header"}),t("div",{staticClass:"register-wrapper"},[t("div",{staticClass:"register-form"},[t("div",{staticClass:"register-form__title"},[s._v("修改密码")]),t("div",{staticClass:"register-form__input"},[t("h-input",{attrs:{maxlength:30,type:"password",placeholder:"密码"},model:{value:s.params.password,callback:function(t){s.$set(s.params,"password",t)},expression:"params.password"}})],1),t("div",{staticClass:"register-form__input"},[t("h-input",{attrs:{maxlength:30,type:"password",placeholder:"确认密码"},model:{value:s.params.towPassword,callback:function(t){s.$set(s.params,"towPassword",t)},expression:"params.towPassword"}})],1),t("div",{staticClass:"register-form__button"},[t("h-button",{on:{click:s.changePassword}},[t("span",{staticClass:"register-form__button-text"},[s._v("修改密码")])])],1),s._m(0)])])])},r=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"register-form__footer"},[t("div",{staticClass:"register-form__protocol"},[t("span",{staticClass:"register-form__protocol-text"},[s._v("我已阅读并接受")]),t("span",{staticClass:"register-form__protocol-link"},[s._v("用户协议")]),t("span",{staticClass:"register-form__protocol-text"},[s._v("和")]),t("span",{staticClass:"register-form__protocol-link"},[s._v("隐私政策")])])])}],o=(a("14d9"),a("dbbe")),i=a("6275"),n=a("db04"),c=a("3786"),p=a("0792"),d=a("2f62"),m={name:"change-password",data(){return{params:{nickname:"",password:"",towPassword:""}}},metaInfo(){return{title:"修改密码 - 毛怪俱乐部",meta:[{name:"keywords",content:"修改密码,毛怪,hanser,社区,毛怪俱乐部"},{name:"description",content:"修改密码成为毛怪俱乐部的一员,参与讨论互动!"}]}},methods:{...Object(d["c"])({changeUserInfo:"users/changeUserInfo"}),changePassword(){if(this.params.password&&this.params.towPassword&&!p["a"].test(this.params.password)&&!p["a"].test(this.params.towPassword))return this.$message({type:"warning",message:"密码格式不正确: 密码必须包含数字字母,6 - 20 字符之间"});if(this.params.password!==this.params.towPassword)return this.$message({type:"warning",message:"请输入相同的密码"});const{key:s,code:t,auth:a,uid:e,site:r}=this.$route.params;n["a"].post(c["a"].changePassword,{key:s,code:t,auth:a,uid:e,site:r,password:this.params.password}).then(s=>{0===s.code?(this.$message({type:"success",message:s.msg||""}),this.changeUserInfo({}),this.$router.push("/login")):this.$message({type:"warning",message:s.msg||""})})}},components:{HButton:o["a"],HInput:i["a"]},computed:{...Object(d["d"])({user:s=>s.users.userInfo})},mounted(){this.$route.params.auth||(this.$message({type:"warning",message:"对不起您没有修改密码的权限，请先经过弹幕验证"}),this.$router.push({name:"tripartiteVerify-pwd"})),this.user.uid||(this.$message({type:"warning",message:"请登录后重试"}),this.$router.push("/"))}},u=m,h=(a("269b"),a("2877")),l=Object(h["a"])(u,e,r,!1,null,"7c41000a",null);t["default"]=l.exports},c4ba:function(s,t,a){}}]);