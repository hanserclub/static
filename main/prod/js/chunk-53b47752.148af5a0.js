(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53b47752"],{1502:function(t,e,s){},"4a51":function(t,e,s){"use strict";e["a"]={exchangeList:"/contribution/exchange-list",exchange:"/contribution/exchange",record:"/contribution/record",deliverContribution:"/contribution/deliver-contribution"}},"53b5":function(t,e,s){},"8f10":function(t,e,s){"use strict";s("53b5")},b0b9:function(t,e,s){},d1a1:function(t,e,s){"use strict";s("f983")},d28d:function(t,e,s){"use strict";s("b0b9")},e7e7:function(t,e,s){"use strict";s("1502")},f983:function(t,e,s){},fb12:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contribution-exchange"},[e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"兑换商城"}},[e("exchange")],1),e("el-tab-pane",{attrs:{label:"兑换记录"}},[e("record")],1)],1)],1)},i=[],a=s("2f62"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"exchange"},[t._l(t.exchangeList,(function(s){return e("exchange-item",{key:s.id,attrs:{id:s.id,name:s.name,description:s.description,picture:s.picture,count:s.count,cost:s.cost},on:{exchange:function(e){return t.doExchange(s.id,s.name,s.cost)}}})})),e("exchange-guess",{attrs:{loading:t.loading},on:{exchangeGuess:t.exchangeGuess}})],2)},o=[],l=s("db04"),r=s("4a51"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"exchange-item"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(t.name))]),e("h-button",{attrs:{size:"small"},on:{click:t.exchange}},[t._v("兑换")])],1),e("el-image",{staticClass:"exchange-img",attrs:{src:t.picture,width:"100%",alt:t.name,"preview-src-list":[t.picture]}}),e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.description)}}),e("div",{staticClass:"datas"},[e("div",{staticClass:"count"},[-1!==t.count?e("span",[t._v("剩余数量: "+t._s(t.count))]):t._e()]),e("div",{staticClass:"cost"},[e("span",[t._v("所需贡献: "+t._s(t.cost))])])])],1)],1)},d=[],h=s("dbbe"),g={name:"exchange-item",props:["name","description","picture","count","cost"],components:{HButton:h["a"]},methods:{exchange(){this.$emit("exchange")}}},p=g,b=(s("8f10"),s("2877")),m=Object(b["a"])(p,u,d,!1,null,"6397e6e5",null),x=m.exports,f=x,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"exchange-item"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"card-header"},[e("span",[t._v("毛豆")]),e("h-button",{attrs:{size:"small"},on:{click:function(e){t.modalVisible=!0}}},[t._v("兑换")])],1)]),e("el-dialog",{attrs:{title:"毛豆兑换",visible:t.modalVisible,width:"50%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.modalVisible=e},closed:t.handleDialogClose}},[e("div",{staticClass:"dialog-body"},[e("div",{staticClass:"text-box text-box-inline"},[e("span",[t._v("余额：")]),e("div",{staticClass:"treasure"},[e("span",[e("img",{attrs:{src:"https://cdn.2550505.com/share/legacy-sso/guess-point.png",width:"16"}}),t._v("毛豆 "+t._s(t.guessCoin))]),e("span",[e("img",{attrs:{src:"https://cdn.2550505.com/share/legacy-sso/guess-coin.png",width:"16"}}),t._v("贡献值 "+t._s(t.user.contribution))])])]),e("div",{staticClass:"text-box"},[e("span",[t._v("使用：")]),e("el-input-number",{attrs:{min:0},model:{value:t.contributionCount,callback:function(e){t.contributionCount=e},expression:"contributionCount"}}),e("span",{staticStyle:{"margin-left":"8px"}},[t._v("贡献值")])],1),e("div",{staticClass:"text-box",staticStyle:{"margin-left":"42px",padding:"2px"}},[e("el-checkbox",{model:{value:t.checkedRules,callback:function(e){t.checkedRules=e},expression:"checkedRules"}}),e("span",{staticStyle:{"margin-left":"6px"}},[t._v("阅读并同意")]),e("span",{staticClass:"text-highlight",on:{click:t.showRule}},[t._v("《贡献值兑换毛豆规则》")]),e("span",[t._v("、")]),e("span",{staticClass:"text-highlight",on:{click:t.showStandard}},[t._v("《互动预测玩法规范》")])],1),e("div",{staticClass:"text-box"},[e("span",[t._v("获得：")]),e("span",{staticClass:"text-guessing-coin"},[t._v(t._s(t.expectedGuessingCoin))]),e("span",{staticStyle:{"margin-left":"6px"}},[t._v("毛豆")])])]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("h-button",{staticClass:"footer-btn",attrs:{disabled:t.loading},on:{click:t.handleExchange}},[t._v("兑 换")])],1)])],1)},v=[],_={name:"exchange-guess",components:{HButton:h["a"]},props:["loading"],data(){return{modalVisible:!1,checkedRules:!1,contributionCount:0}},computed:{...Object(a["d"])({user:t=>t.users.userInfo,guessCoin:t=>t.guess.guessCoin}),expectedGuessingCoin(){return 10*this.contributionCount}},methods:{showRule(){this.$alert("\n                <ol>\n                    <li>“毛豆”仅能使用贡献值进行兑换，用户通过在毛怪俱乐部主站或直播间的主动互动行为可获取相应的贡献值。</li>\n                    <li>贡献值兑换“毛豆”比例为1 贡献值= 10毛豆，“毛豆”一旦兑换后，将不可撤回，也无法转移或交易，只能在毛怪俱乐部互动活动中消耗。</li>\n                    <li>“毛豆”无法通过人民币或其他法定货币进行充值，也不可兑现成现金、虚拟货币及其他有价值的财物。</li>\n                </ol>\n            ","《贡献值兑换毛豆规则》",{dangerouslyUseHTMLString:!0})},showStandard(){this.$alert('\n                <ol>\n                    <li>互动预测玩法仅用作直播及部分互动娱乐活动之目的，毛怪俱乐部禁止未成年人参与本玩法，请务必注意健康娱乐，适度参与。</li>\n                    <li>您知悉本玩法仅作为一种互动娱乐玩法，其性质并非任何赌博、博彩或盈利行为，本玩法所消耗或收益的道具“毛豆”也无法通过现金、虚拟货币或其他有价值的财物进行充值、兑现，也不可进行交易或转移。</li>\n                    <li>您承诺在参与本活动时不会有任何违反法律法规、毛怪俱乐部平台规则及不正当（包括但不限于何舞弊、使用外挂插件、利用系统bug）的行为。毛怪俱乐部有权终止向违规账号提供服务，回收任何不正当收益的“毛豆”，情节严重者将作封号处理。</li>\n                    <li>对于任何违反法律法规、毛怪俱乐部规范及其他不正当的行为，欢迎您积极向毛怪俱乐部客服邮箱（<a href="mailto:help@ihan.club?subject=举报">help@ihan.club</a>）或站内官方账号“<a class="inner-link" href="/space/6" target="_blank">社区小助手</a>”举报，一经查证属实，我们将严肃处理。</li>\n                    <li>如对本玩法有任何疑问、建议或意见，请发帖添加”<a class="inner-link" href="/tag/6" target="_blank">#用户反馈#</a>”话题告诉我们。</li>\n                </ol>\n            ',"《互动预测玩法规范》",{dangerouslyUseHTMLString:!0})},handleExchange(){this.checkedRules?0!==this.contributionCount?this.$emit("exchangeGuess",Number(this.contributionCount),()=>{this.modalVisible=!1}):this.$message({type:"warning",message:"请输入贡献值"}):this.$message({type:"warning",message:"请阅读并同意《毛豆兑换规则》、《互动预测玩法规范》"})},handleDialogClose(){this.contributionCount=0,this.checkedRules=!1}}},k=_,w=(s("d1a1"),Object(b["a"])(k,C,v,!1,null,"6b50d19a",null)),y=w.exports,L=y,$=s("2287"),G={name:"exchange",data(){return{params:{page:1,pageSize:30},loading:!1,exchangeList:[]}},components:{ExchangeItem:f,ExchangeGuess:L},methods:{...Object(a["c"])({costContribution:"users/costContribution",addGuessCoin:"guess/addGuessCoin",setGuessCoin:"guess/setGuessCoin"}),getExchangeList(){l["a"].get(r["a"].exchangeList,{params:this.params}).then(t=>{0===t.code&&(this.exchangeList=t.list)})},doExchange(t,e,s){this.$confirm(`将花费 ${s} 贡献值兑换 1 * ${e}，是否继续`,"兑换",{confirmButtonText:"确定",cancelButtonText:"取消",customClass:"mobile-confirm",type:"warning"}).then(()=>{l["a"].post(r["a"].exchange,{id:t}).then(t=>{0===t.code?(this.costContribution(s),this.$message({type:"success",message:t.msg}),this.getExchangeList()):this.$message({type:"warning",message:t.msg})})}).catch(()=>{this.$message({type:"message",message:"取消兑换"})})},exchangePoints(t,e){this.loading=!0,l["a"].post($["a"].guessingExchange,{contribution:t}).then(s=>{this.loading=!1,0===s.code?(this.$message({type:"success",message:"兑换成功"}),this.addGuessCoin(10*t),this.costContribution(t),e()):this.$message({type:"warning",message:s.msg})}).catch(()=>{this.loading=!1})},exchangeGuess(t,e){this.exchangePoints(t,e)}},mounted(){this.getExchangeList()}},E=G,R=(s("d28d"),Object(b["a"])(E,c,o,!1,null,"5840da36",null)),S=R.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"record"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.recordList}},[e("el-table-column",{attrs:{type:"index",width:"100"}}),e("el-table-column",{attrs:{label:"内容"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v("兑换 "+t._s(s.row.num)+" * "+t._s(s.row.name))])]}}])}),e("el-table-column",{attrs:{prop:"time",label:"时间"}}),e("el-table-column",{attrs:{prop:"cost",label:"花费"}})],1)],1)},O=[],H={name:"record",data(){return{recordList:[]}},methods:{getRecordList(){l["a"].get(r["a"].record).then(t=>{0===t.code&&(this.recordList=t.list)})}},mounted(){this.getRecordList()}},T=H,V=Object(b["a"])(T,j,O,!1,null,"58d70c36",null),B=V.exports,z={name:"contribution-exchange",components:{Exchange:S,Record:B},computed:{...Object(a["d"])({user:t=>t.users.userInfo})}},I=z,M=(s("e7e7"),Object(b["a"])(I,n,i,!1,null,"8c92b3fc",null));e["default"]=M.exports}}]);