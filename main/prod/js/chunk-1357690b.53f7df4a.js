(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1357690b"],{"108b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"param"},[e("div",{staticClass:"params"},[t._l(t.params,(function(s){return e("div",{key:s.id,staticClass:"param-item"},[e("div",{staticClass:"label"},[t._v(t._s(s.description)+":")]),e("div",{staticClass:"value"},[e("h-input",{model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"param.value"}})],1)])})),e("div",{staticClass:"param-item"},[e("div",{staticClass:"label"}),e("div",{staticClass:"value"},[e("h-button",{on:{click:t.alterParams}},[t._v("修改")])],1)])],2),e("div",{staticClass:"data"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList}},[e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{prop:"author",label:"作者uid",width:"100"}}),e("el-table-column",{attrs:{prop:"readings",label:"阅读量"}}),e("el-table-column",{attrs:{prop:"likes",label:"点赞"}}),e("el-table-column",{attrs:{prop:"replies",label:"回复"}}),e("el-table-column",{attrs:{prop:"hourDiff",label:"间隔小时数"}}),e("el-table-column",{attrs:{prop:"post_time",label:"发帖时间"}}),e("el-table-column",{attrs:{prop:"hot",label:"手动热度值"}}),e("el-table-column",{attrs:{prop:"contribution",label:"周贡献"}}),e("el-table-column",{attrs:{prop:"point",label:"积分"}}),e("el-table-column",{attrs:{prop:"hot_value",label:"热度值"}})],1)],1),e("div",{staticClass:"posts"},t._l(t.hotList,(function(s){return e("post-brief",{key:s.id,staticClass:"post-brief",attrs:{author:s.author,post:s,levels:t.levels},on:{like:function(e){return t.like(s)}}})})),1)])},a=[],r=s("2f62"),l=s("11a4"),n=s("dbbe"),o=s("6275"),c=s("db04"),h=s("365c"),d={name:"param",components:{PostBrief:l["a"],HButton:n["a"],HInput:o["a"]},data(){return{params:[],hotList:[],dataList:[]}},computed:{...Object(r["d"])({levels:t=>t.level.levels})},methods:{getParams(){c["a"].get(h["a"].getHotParams).then(t=>{0===t.code&&(this.params=t.params)})},getHotList(){c["a"].get(h["a"].getHotList).then(t=>{0===t.code&&(this.hotList=t.result)})},getDataList(){c["a"].get(h["a"].hotData).then(t=>{0===t.code&&(this.dataList=t.list)})},alterParams(){const t={};this.params.forEach(e=>{t[e.name]=Number(e.value)}),c["a"].post(h["a"].setHotParams,{params:t}).then(t=>{0===t.code&&(this.$message({type:"success",message:t.msg}),this.getHotList(),this.getDataList())})},like(){}},mounted(){this.getParams(),this.getHotList(),this.getDataList()}},p=d,u=(s("3d9e"),s("2877")),m=Object(u["a"])(p,i,a,!1,null,"7108d4df",null);e["default"]=m.exports},"11a4":function(t,e,s){"use strict";var i=function(){var t,e=this,s=e._self._c;return s("div",{staticClass:"post-brief",attrs:{brief:e.brief}},[e.brief?e._e():s("div",{staticClass:"top"},[s("post-user",{attrs:{avatar:e.post.author.avatar,size:50,auth:e.post.author.auth,authentication:e.post.author.authentication,nickname:e.post.author.nickname,uid:e.post.author.uid,colors:e.levelLabel.color,level:e.level}},[s("template",{slot:"bottom"},[s("span",{staticClass:"post-time"},[e._v(e._s(e.postTime))])])],2),e.isMobile?e._e():e._t("right-top")],2),s("div",{staticClass:"content"},[s("post-content",{attrs:{title:e.post.title,content:e.post.content,labels:e.post.labels,pictures:e.post.pictures,author:e.post.author,"primary-pictures":e.post.primaryPictures,videos:e.post.videos,isMobile:e.isMobile,brief:e.brief,type:e.post.type,id:e.post.id,vote:null===(t=e.post)||void 0===t?void 0:t.vote}})],1),e.showHanserAction&&e.isLogin&&!e.brief?s("div",{staticClass:"hanser-action"},[e.post.hanserReply?s("div",{staticClass:"hanser-reply"},[s("icon",{attrs:{icon:"hanser icon-huifu"}}),e._v(" hanser回复过")],1):e._e(),e.post.hanserLike&&!e.post.hanserReply?s("div",{staticClass:"hanser-like"},[s("icon",{attrs:{icon:"hanser icon-dianzan"}}),e._v(" hanser赞过 ")],1):e._e()]):e._e(),e.brief?e._e():s("div",{staticClass:"bottom"},[s("ul",{staticClass:"tags",class:{"no-tags":!e.post.tags||!e.post.tags.length}},e._l(e.post.tags,(function(t){return s("li",{key:t.tagId,staticClass:"tag"},[s("router-link",{staticClass:"tag-link",attrs:{to:"/tag/"+t.tagId}},[e._v("#"+e._s(t.tagName))])],1)})),0),e.isLogin?s("div",{staticClass:"datas"},[s("div",{staticClass:"readings"},[s("div",{staticClass:"icon"},[s("div",{domProps:{innerHTML:e._s(e.readingsIcon)}})]),s("div",{staticClass:"data"},[e._v(e._s(e.post.readings))])]),s("div",{staticClass:"replies"},[s("div",{staticClass:"icon"},[s("div",{domProps:{innerHTML:e._s(e.repliesIcon)}})]),s("div",{staticClass:"data"},[e._v(e._s(e.post.replies))])]),s("div",{staticClass:"likes",class:{liked:e.post.liked},on:{click:function(t){return e.like(e.post)}}},[e.showLike?s("div",{staticClass:"like-animation",style:e.themeLikeAnimationStyle},[s("div",{domProps:{innerHTML:e._s(e.likeGif)}})]):e._e(),s("div",{staticClass:"icon"},[s("div",{domProps:{innerHTML:e._s(e.likeIcon(e.post.liked))}})]),s("div",{staticClass:"data"},[e._v(e._s(e.post.likes))])])]):e._e()]),e.brief?s("div",{staticClass:"divider"}):e._e()])},a=[],r=s("9579"),l=s("7b81"),n=s("808e"),o=s("ed08"),c=s.n(o),h=s("2f62"),d={name:"post-brief",props:["post","levels","author","brief"],data(){return{TEXT_COLOR:n["j"],showLike:!1}},components:{PostContent:l["a"],PostUser:r["a"]},computed:{...Object(h["d"])({user:t=>t.users.userInfo,isMobile:t=>t.media.isMobile,theme:t=>t.config.theme}),level(){const{exp:t}=this.author;let e=this.levels[0];return this.levels.forEach(s=>{s.exp<=t&&s.level>e.level&&(e=s)}),e},levelLabel(){const t=this.levels.find(t=>t.level===this.level.level);return t},lastReplyTime(){return c.a.dateFormat("mm-dd HH:MM",new Date(this.post.last_reply_time.replace(/-/g,"/")))},showHanserAction(){return this.post.hanserLike||this.post.hanserReply},isLogin(){return!!this.user.uid},postTime(){return c.a.dateFormat("YYYY-mm-dd HH:MM",new Date(this.post.post_time.replace(/-/g,"/")))},likeGif(){switch(this.theme){case"new-year-2023":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-like.gif" width="87" height="110" alt="点赞" />';default:return'<img src="https://cdn.2550505.com/share/legacy-sso/like.gif" width="64" height="42" alt="点赞" />'}},themeLikeAnimationStyle(){switch(this.theme){case"new-year-2023":return"top: -98px; right: -12px";default:return""}},readingsIcon(){switch(this.theme){case"new-year-2023":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-readings.png" width="25" height="15" alt="查看" />';case"new-year-2024":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-reading.png" width="28" height="28" alt="查看" />';default:return'<i class="hanser icon-chakan"></i>'}},repliesIcon(){switch(this.theme){case"new-year-2023":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-replies.png" width="20" height="20" alt="回复" />';case"new-year-2024":return'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-reply.png" width="20" height="17" alt="回复" />';default:return'<i class="hanser icon-huifu" />'}}},methods:{like(t){const e="new-year-2023"===this.theme?1300:1e3;!t.liked&&this.user.uid?(this.showLike=!0,setTimeout(()=>{this.showLike=!1},e)):this.showLike=!1,this.$emit("like")},likeIcon(t){return"new-year-2023"===this.theme?t?'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-like-click.png" width="20" height="20" alt="已点赞" />':'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2023-like.png" width="20" height="20" alt="点赞" />':"new-year-2024"===this.theme?t?'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-like_active.png" width="20" height="20" alt="已点赞" />':'<img src="https://cdn.2550505.com/share/legacy-sso/new-year-2024-like_default.png" width="20" height="20" alt="点赞" />':'<i class="hanser icon-dianzan"></i>'}}},p=d,u=(s("afc0"),s("2877")),m=Object(u["a"])(p,i,a,!1,null,"08176a4c",null);e["a"]=m.exports},"2b0f":function(t,e,s){},"361c":function(t,e,s){},"3d9e":function(t,e,s){"use strict";s("f367")},"6d9e":function(t,e,s){},"7b81":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-content"},[e("router-link",{staticClass:"title",attrs:{to:"/post/"+t.id,target:t.target}},[t.labels.length?e("ul",{staticClass:"labels"},t._l(t.labels,(function(s,i){return e("li",{key:i},[e("span",{staticClass:"label",style:t.labelStyle(s)},[t._v(t._s(s.labelName))])])})),0):t._e(),e("p",{staticClass:"title-text"},[t._v(t._s(t.title))])]),e("div",[e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.renderContent)}})]),t.brief||!t.videos||t.videos.length?t._e():e("div",{staticClass:"pictures"},[e("post-image",{attrs:{images:t.pictures,type:t.type,isMobile:t.isMobile,"primary-pictures":t.primaryPictures}})],1),t.videos&&t.videos.length?e("div",{staticClass:"video"},[e("iframe",{ref:"video",attrs:{src:t.videos[0],width:t.videoWidth,height:t.videoHeight,scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"allowfullscreen"}})]):t._e()],1)},a=[],r=function(){var t=this,e=t._self._c;return t.imageCount?e("div",{staticClass:"post-image"},[e("div",{class:t.imageClass},[t._l(t.showImages,(function(s,i){return e("el-image",{key:s+i,staticClass:"image",style:t.imageStyle,attrs:{lazy:"",fit:"cover",src:s},on:{click:function(e){return t.handlePreview(i)}}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("img",{attrs:{width:"100",height:"100",alt:"loading",src:"https://cdn.2550505.com/share/legacy-sso/loading.jpg"}})]),e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{attrs:{width:"100",height:"100",alt:"failed",src:"https://cdn.2550505.com/share/legacy-sso/fail.jpg"}})])])})),t.showViewer?e("el-image-viewer",{attrs:{"initial-index":t.initialIndex,maskClosable:!1,"on-close":t.onClose,"url-list":t.primaryPictures}}):t._e()],2)]):t._e()},l=[],n=s("08a9"),o={name:"post-image",props:["images","primaryPictures","type","isMobile"],components:{ElImageViewer:n["a"]},data(){return{showViewer:!1,initialIndex:0}},computed:{imageClass(){return 3===this.imageCount?"image-count-3":4===this.imageCount?"image-count-4":"image-list"},showImages(){return this.images.slice(0,9)},imageCount(){var t;return null===(t=this.images)||void 0===t?void 0:t.length},imageStyle(){return this.isMobile?[1,2,3].includes(this.type)?"width: 100%":"width: 100px; height: 100px":[1,2,3].includes(this.type)?"max-width: 300px;max-height: 300px":"width: 100px; height: 100px"}},methods:{changeIndex(t){this.initialIndex=t},handlePreview(t){this.initialIndex=t,this.showViewer=!0},onClose(){this.showViewer=!1,this.initialIndex=0}}},c=o,h=(s("eff9"),s("2877")),d=Object(h["a"])(c,r,l,!1,null,"18654413",null),p=d.exports,u=s("cbff"),m={name:"post-content",data(){return{}},props:["labels","title","type","content","author","pictures","id","primaryPictures","isMobile","brief","videos","vote"],methods:{labelStyle(t){return`background: ${t.color};`}},computed:{isTop(){const t=this.labels.find(t=>1===t.labelId);return!!t},target(){if(this.isMobile)return"_blank";{const t=Number(window.localStorage.getItem("openType"));if(0===t)return"_self";if(1===t)return"_blank"}return"_self"},videoWidth(){return this.isMobile?"100%":"70%"},videoHeight(){return this.isMobile?"200":"400"},isLevelUpPost(){const t=this.labels.find(t=>7===t.id);return!!t},renderContent(){return 3===this.type?`<div class="birthday-sign"><div class="birthday-picture"><img src="https://cdn.2550505.com/share/legacy-sso/birthday-picture.png" class="birthday-img"><div class="birthday-avatar"><img src="${this.author.avatar}" width="100%" height="100%" alt="${this.author.nickname}" class="birthday-avatar-img"></div></div></div>`:this.content}},components:{PostImage:p,VotePanel:u["a"]}},g=m,v=(s("8f2e"),Object(h["a"])(g,i,a,!1,null,"55a07adc",null));e["a"]=v.exports},"8f2e":function(t,e,s){"use strict";s("361c")},afc0:function(t,e,s){"use strict";s("6d9e")},ed08:function(t,e){const s={dateFormat:(t,e)=>{let s;const i={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(let a in i)s=new RegExp("("+a+")").exec(t),s&&(t=t.replace(s[1],1==s[1].length?i[a]:i[a].padStart(s[1].length,"0")));return t},getLevelInfo(t,e){let s=0;while(s<e.length){if(s===e.length-1)return e[s];if(t>=e[s].exp&&t<e[s+1].exp)return e[s];s++}},imagesLoadDone:async t=>{const e=t.map(t=>new Promise(e=>{const s=new Image;s.src=t,s.onload=()=>{e(t)}}));return Promise.all(e)},dateInrange:(t,e,s)=>{const i=new Date(t),a=new Date(e);return a.valueOf()-i.valueOf()<s}};t.exports=s},eff9:function(t,e,s){"use strict";s("2b0f")},f367:function(t,e,s){}}]);